
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>DISKRITISASI &#8212; DATA MINING</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'diskritasi';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Tugas_Decision_tree" href="tree.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/mining.png" class="logo__image only-light" alt="DATA MINING - Home"/>
    <script>document.write(`<img src="_static/mining.png" class="logo__image only-dark" alt="DATA MINING - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="intro.html">
                    Welcome to MY DATA MINING book
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="tugas1.html">Tugas1 Data mining</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="tugas2.html"><strong>Tugas 2 data_understanding</strong></a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="lof.html">LOF (Local Outlier Factor)</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="uts_pendat.html">UTS</a></li>
<li class="toctree-l1"><a class="reference internal" href="K_Means.html">K-MEANS CLUSTER 2,3 DAN 4</a></li>
<li class="toctree-l1"><a class="reference internal" href="Fuzzy_CMeans.html"><strong>FUZZY C-MEANS CLUSTERING</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="tree.html">Tugas_Decision_tree</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">DISKRITISASI</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/executablebooks/jupyter-book/issues/new?title=Issue%20on%20page%20%2Fdiskritasi.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/diskritasi.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>DISKRITISASI</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bagian-awal-ambil-dan-gabungkan-data">Bagian Awal: Ambil dan Gabungkan Data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#klasifikasi-naive-bayes-pada-data-iris-hasil-diskritisasi-menggunakan-k-means">Klasifikasi Naive Bayes pada Data Iris hasil Diskritisasi menggunakan K-Means</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lakukan-klasifikasi-naive-bayes-pada-data-iris-hasil-diskritisasi-menggunakan-k-means-untuk-mencari-akurasi-data-iris">lakukan klasifikasi Naive Bayes pada data iris hasil diskritisasi menggunakan K-Means, untuk mencari akurasi data iris</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lakukan-klasifikasi-decision-tree-pada-data-iris-hasil-diskritisasi-menggunakan-k-means-untuk-mencari-akurasi-data-iris">lakukan klasifikasi Decision Tree pada data iris hasil diskritisasi menggunakan K-Means, untuk mencari akurasi data iris</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#penjelasan-konsep-diskritisasi-menggunakan-equal-width-binning">Penjelasan Konsep Diskritisasi menggunakan Equal Width Binning</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#klasifikasi-naive-bayes-pada-data-iris-hasil-diskritisasi-menggunakan-equal-width">Klasifikasi Naive Bayes pada Data Iris hasil Diskritisasi menggunakan Equal-Width</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#klasifikasi-decision-tree-pada-data-iris-hasil-diskritisasi-menggunakan-equal-width-binning">Klasifikasi Decision Tree pada Data Iris hasil Diskritisasi menggunakan Equal-Width Binning</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#diskritisasi-dataset-iris-menggunakan-equal-frequency-binning">Diskritisasi Dataset Iris menggunakan Equal-Frequency Binning</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lakukan-klasifikasi-naive-bayes-pada-data-iris-hasil-diskritisasi-menggunakan-equal-frequency-binning-untuk-mencari-akurasi-data-iris">lakukan klasifikasi Naive Bayes pada data iris hasil diskritisasi menggunakan Equal-Frequency Binning, untuk mencari akurasi data iris</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#klasifikasi-decision-tree-pada-data-iris-hasil-diskritisasi-menggunakan-equal-frequency">Klasifikasi Decision Tree pada Data Iris hasil Diskritisasi menggunakan Equal-Frequency</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#import-ambil-data">Import &amp; Ambil Data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#diskretisasi">Diskretisasi</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#diskretisasi-kmeans">Diskretisasi KMeans</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#diskretisasi-equal-width">Diskretisasi Equal Width</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#diskretisasi-equal-frequency">Diskretisasi Equal Frequency</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#fungsi-klasifikasi">Fungsi Klasifikasi</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bandingkan-semua">Bandingkan Semua</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visualisasi-perbandingan">Visualisasi Perbandingan</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="diskritisasi">
<h1>DISKRITISASI<a class="headerlink" href="#diskritisasi" title="Link to this heading">#</a></h1>
<p>Data binning atau bucketing adalah metode pra-pemrosesan data yang digunakan untuk mengurangi dampak kesalahan pengamatan. Nilai data asli dibagi ke dalam interval-interval kecil yang disebut bin, lalu nilai-nilai tersebut digantikan oleh suatu nilai umum yang dihitung untuk setiap bin tersebut. Metode ini memiliki efek menghaluskan (smoothing) pada data masukan dan juga dapat mengurangi risiko overfitting terutama pada kasus dataset yang kecil.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">pip</span> install pymysql
<span class="o">%</span><span class="k">pip</span> install psycopg2
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: pymysql in /usr/local/python/3.12.1/lib/python3.12/site-packages (1.1.1)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Bold">[</span><span class=" -Color -Color-Blue">notice</span><span class=" -Color -Color-Bold">]</span> A new release of pip is available: <span class=" -Color -Color-Red">24.3.1</span> -&gt; <span class=" -Color -Color-Green">25.1.1</span>
<span class=" -Color -Color-Bold">[</span><span class=" -Color -Color-Blue">notice</span><span class=" -Color -Color-Bold">]</span> To update, run: <span class=" -Color -Color-Green">python3 -m pip install --upgrade pip</span>
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Note: you may need to restart the kernel to use updated packages.
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Requirement already satisfied: psycopg2 in /usr/local/python/3.12.1/lib/python3.12/site-packages (2.9.10)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span><span class=" -Color -Color-Bold">[</span><span class=" -Color -Color-Blue">notice</span><span class=" -Color -Color-Bold">]</span> A new release of pip is available: <span class=" -Color -Color-Red">24.3.1</span> -&gt; <span class=" -Color -Color-Green">25.1.1</span>
<span class=" -Color -Color-Bold">[</span><span class=" -Color -Color-Blue">notice</span><span class=" -Color -Color-Bold">]</span> To update, run: <span class=" -Color -Color-Green">python3 -m pip install --upgrade pip</span>
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Note: you may need to restart the kernel to use updated packages.
</pre></div>
</div>
</div>
</div>
<section id="bagian-awal-ambil-dan-gabungkan-data">
<h2>Bagian Awal: Ambil dan Gabungkan Data<a class="headerlink" href="#bagian-awal-ambil-dan-gabungkan-data" title="Link to this heading">#</a></h2>
<p>Kode Python ini terhubung ke dua database berbeda—PostgreSQL dan MySQL—menggunakan pustaka psycopg2 dan pymysql, lalu mengambil data dari tabel sepaliris (PostgreSQL) dan petaliris (MySQL). Data dari kedua tabel tersebut dimuat ke dalam DataFrame menggunakan pandas, kemudian digabungkan berdasarkan kolom id dan class dengan metode inner join, yang berarti hanya data yang memiliki kecocokan di kedua tabel pada kolom tersebut yang akan disertakan. Setelah penggabungan, hasil akhir ditampilkan di konsol tanpa menampilkan indeks baris. Kode ini memungkinkan analisis gabungan data kelopak dan sepal dari dua sumber database yang berbeda.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">psycopg2</span>
<span class="kn">import</span> <span class="nn">pymysql</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="k">def</span> <span class="nf">get_pg_data</span><span class="p">():</span>
    <span class="n">conn</span> <span class="o">=</span> <span class="n">psycopg2</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
        <span class="n">host</span><span class="o">=</span><span class="s2">&quot;postgre-mysqliris.g.aivencloud.com&quot;</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="s2">&quot;avnadmin&quot;</span><span class="p">,</span>
        <span class="n">password</span><span class="o">=</span><span class="s2">&quot;AVNS_ldSz_mZZNFskZEWcZsJ&quot;</span><span class="p">,</span>
        <span class="n">database</span><span class="o">=</span><span class="s2">&quot;defaultdb&quot;</span><span class="p">,</span>
        <span class="n">port</span><span class="o">=</span><span class="mi">10378</span>
    <span class="p">)</span>
    <span class="n">cursor</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;SELECT * FROM sepaliris&quot;</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
    <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">desc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">desc</span> <span class="ow">in</span> <span class="n">cursor</span><span class="o">.</span><span class="n">description</span><span class="p">]</span>  <span class="c1"># Ambil nama kolom</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">get_mysql_data</span><span class="p">():</span>
    <span class="n">conn</span> <span class="o">=</span> <span class="n">pymysql</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
        <span class="n">host</span><span class="o">=</span><span class="s2">&quot;mysql-37a70601-mysqliris.i.aivencloud.com&quot;</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="s2">&quot;avnadmin&quot;</span><span class="p">,</span>
        <span class="n">password</span><span class="o">=</span><span class="s2">&quot;AVNS_3JRmZQG_Bul1_r-Rhl6&quot;</span><span class="p">,</span>
        <span class="n">database</span><span class="o">=</span><span class="s2">&quot;petal&quot;</span><span class="p">,</span>
        <span class="n">port</span><span class="o">=</span><span class="mi">10378</span>
    <span class="p">)</span>
    <span class="n">cursor</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;SELECT * FROM petaliris&quot;</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
    <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">desc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">desc</span> <span class="ow">in</span> <span class="n">cursor</span><span class="o">.</span><span class="n">description</span><span class="p">]</span>  <span class="c1"># Ambil nama kolom</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">)</span>

<span class="c1"># Ambil data dari kedua database</span>
<span class="n">df_postgresql</span> <span class="o">=</span> <span class="n">get_pg_data</span><span class="p">()</span>
<span class="n">df_mysql</span> <span class="o">=</span> <span class="n">get_mysql_data</span><span class="p">()</span>

<span class="c1"># Gabungkan berdasarkan kolom &#39;id&#39; dan &#39;Class&#39;</span>
<span class="n">df_merged</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df_mysql</span><span class="p">,</span> <span class="n">df_postgresql</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;class&quot;</span><span class="p">],</span> <span class="n">how</span><span class="o">=</span><span class="s2">&quot;inner&quot;</span><span class="p">)</span>

<span class="c1"># Cetak semua data hasil gabungan tanpa indeks</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_merged</span><span class="o">.</span><span class="n">to_string</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> id           class  petal_length  petal_width  sepal_length  sepal_width
  1     Iris-setosa           1.4          0.2           5.1          3.5
  2     Iris-setosa           1.4          0.2           4.9          3.0
  3     Iris-setosa           1.3          0.2           4.7          3.2
  4     Iris-setosa           1.5          0.2           4.6          3.1
  5     Iris-setosa           1.4          0.2           5.0          3.6
  6     Iris-setosa           1.7          0.4           5.4          3.9
  7     Iris-setosa           1.4          0.3           4.6          3.4
  8     Iris-setosa           1.5          0.2           5.0          3.4
  9     Iris-setosa           1.4          0.2           4.4          2.9
 10     Iris-setosa           1.5          0.1           4.9          3.1
 11     Iris-setosa           1.5          0.2           5.4          3.7
 12     Iris-setosa           1.6          0.2           4.8          3.4
 13     Iris-setosa           1.4          0.1           4.8          3.0
 14     Iris-setosa           1.1          0.1           4.3          3.0
 15     Iris-setosa           1.2          0.2           5.8          4.0
 16     Iris-setosa           1.5          0.4           5.7          4.4
 17     Iris-setosa           1.3          0.4           5.4          3.9
 18     Iris-setosa           1.4          0.3           5.1          3.5
 19     Iris-setosa           1.7          0.3           5.7          3.8
 20     Iris-setosa           1.5          0.3           5.1          3.8
 21     Iris-setosa           1.7          0.2           5.4          3.4
 22     Iris-setosa           1.5          0.4           5.1          3.7
 23     Iris-setosa           1.0          0.2           4.6          3.6
 24     Iris-setosa           1.7          0.5           5.1          3.3
 25     Iris-setosa           1.9          0.2           4.8          3.4
 26     Iris-setosa           1.6          0.2           5.0          3.0
 27     Iris-setosa           1.6          0.4           5.0          3.4
 28     Iris-setosa           1.5          0.2           5.2          3.5
 29     Iris-setosa           1.4          0.2           5.2          3.4
 30     Iris-setosa           1.6          0.2           4.7          3.2
 31     Iris-setosa           1.6          0.2           4.8          3.1
 32     Iris-setosa           1.5          0.4           5.4          3.4
 33     Iris-setosa           1.5          0.1           5.2          4.1
 34     Iris-setosa           1.4          0.2           5.5          4.2
 35     Iris-setosa           1.5          0.1           4.9          3.1
 36     Iris-setosa           1.2          0.2           5.0          3.2
 37     Iris-setosa           1.3          0.2           5.5          3.5
 38     Iris-setosa           1.5          0.1           4.9          3.1
 39     Iris-setosa           1.3          0.2           4.4          3.0
 40     Iris-setosa           1.5          0.2           5.1          3.4
 41     Iris-setosa           1.3          0.3           5.0          3.5
 42     Iris-setosa           1.3          0.3           4.5          2.3
 43     Iris-setosa           1.3          0.2           4.4          3.2
 44     Iris-setosa           1.6          0.6           5.0          3.5
 45     Iris-setosa           1.9          0.4           5.1          3.8
 46     Iris-setosa           1.4          0.3           4.8          3.0
 47     Iris-setosa           1.6          0.2           5.1          3.8
 48     Iris-setosa           1.4          0.2           4.6          3.2
 49     Iris-setosa           1.5          0.2           5.3          3.7
 50     Iris-setosa           1.4          0.2           5.0          3.3
 51 Iris-versicolor           4.7          1.4           7.0          3.2
 52 Iris-versicolor           4.5          1.5           6.4          3.2
 53 Iris-versicolor           4.9          1.5           6.9          3.1
 54 Iris-versicolor           4.0          1.3           5.5          2.3
 55 Iris-versicolor           4.6          1.5           6.5          2.8
 56 Iris-versicolor           4.5          1.3           5.7          2.8
 57 Iris-versicolor           4.7          1.6           6.3          3.3
 58 Iris-versicolor           3.3          1.0           4.9          2.4
 59 Iris-versicolor           4.6          1.3           6.6          2.9
 60 Iris-versicolor           3.9          1.4           5.2          2.7
 61 Iris-versicolor           3.5          1.0           5.0          2.0
 62 Iris-versicolor           4.2          1.5           5.9          3.0
 63 Iris-versicolor           4.0          1.0           6.0          2.2
 64 Iris-versicolor           4.7          1.4           6.1          2.9
 65 Iris-versicolor           3.6          1.3           5.6          2.9
 66 Iris-versicolor           4.4          1.4           6.7          3.1
 67 Iris-versicolor           4.5          1.5           5.6          3.0
 68 Iris-versicolor           4.1          1.0           5.8          2.7
 69 Iris-versicolor           4.5          1.5           6.2          2.2
 70 Iris-versicolor           3.9          1.1           5.6          2.5
 71 Iris-versicolor           4.8          1.8           5.9          3.2
 72 Iris-versicolor           4.0          1.3           6.1          2.8
 73 Iris-versicolor           4.9          1.5           6.3          2.5
 74 Iris-versicolor           4.7          1.2           6.1          2.8
 75 Iris-versicolor           4.3          1.3           6.4          2.9
 76 Iris-versicolor           4.4          1.4           6.6          3.0
 77 Iris-versicolor           4.8          1.4           6.8          2.8
 78 Iris-versicolor           5.0          1.7           6.7          3.0
 79 Iris-versicolor           4.5          1.5           6.0          2.9
 80 Iris-versicolor           3.5          1.0           5.7          2.6
 81 Iris-versicolor           3.8          1.1           5.5          2.4
 82 Iris-versicolor           3.7          1.0           5.5          2.4
 83 Iris-versicolor           3.9          1.2           5.8          2.7
 84 Iris-versicolor           5.1          1.6           6.0          2.7
 85 Iris-versicolor           4.5          1.5           5.4          3.0
 86 Iris-versicolor           4.5          1.6           6.0          3.4
 87 Iris-versicolor           4.7          1.5           6.7          3.1
 88 Iris-versicolor           4.4          1.3           6.3          2.3
 89 Iris-versicolor           4.1          1.3           5.6          3.0
 90 Iris-versicolor           4.0          1.3           5.5          2.5
 91 Iris-versicolor           4.4          1.2           5.5          2.6
 92 Iris-versicolor           4.6          1.4           6.1          3.0
 93 Iris-versicolor           4.0          1.2           5.8          2.6
 94 Iris-versicolor           3.3          1.0           5.0          2.3
 95 Iris-versicolor           4.2          1.3           5.6          2.7
 96 Iris-versicolor           4.2          1.2           5.7          3.0
 97 Iris-versicolor           4.2          1.3           5.7          2.9
 98 Iris-versicolor           4.3          1.3           6.2          2.9
 99 Iris-versicolor           3.0          1.1           5.1          2.5
100 Iris-versicolor           4.1          1.3           5.7          2.8
101  Iris-virginica           6.0          2.5           6.3          3.3
102  Iris-virginica           5.1          1.9           5.8          2.7
103  Iris-virginica           5.9          2.1           7.1          3.0
104  Iris-virginica           5.6          1.8           6.3          2.9
105  Iris-virginica           5.8          2.2           6.5          3.0
106  Iris-virginica           6.6          2.1           7.6          3.0
107  Iris-virginica           4.5          1.7           4.9          2.5
108  Iris-virginica           6.3          1.8           7.3          2.9
109  Iris-virginica           5.8          1.8           6.7          2.5
110  Iris-virginica           6.1          2.5           7.2          3.6
111  Iris-virginica           5.1          2.0           6.5          3.2
112  Iris-virginica           5.3          1.9           6.4          2.7
113  Iris-virginica           5.5          2.1           6.8          3.0
114  Iris-virginica           5.0          2.0           5.7          2.5
115  Iris-virginica           5.1          2.4           5.8          2.8
116  Iris-virginica           5.3          2.3           6.4          3.2
117  Iris-virginica           5.5          1.8           6.5          3.0
118  Iris-virginica           6.7          2.2           7.7          3.8
119  Iris-virginica           6.9          2.3           7.7          2.6
120  Iris-virginica           5.0          1.5           6.0          2.2
121  Iris-virginica           5.7          2.3           6.9          3.2
122  Iris-virginica           4.9          2.0           5.6          2.8
123  Iris-virginica           6.7          2.0           7.7          2.8
124  Iris-virginica           4.9          1.8           6.3          2.7
125  Iris-virginica           5.7          2.1           6.7          3.3
126  Iris-virginica           6.0          1.8           7.2          3.2
127  Iris-virginica           4.8          1.8           6.2          2.8
128  Iris-virginica           4.9          1.8           6.1          3.0
129  Iris-virginica           5.6          2.1           6.4          2.8
130  Iris-virginica           5.8          1.6           7.2          3.0
131  Iris-virginica           6.1          1.9           7.4          2.8
132  Iris-virginica           6.4          2.0           7.9          3.8
133  Iris-virginica           5.6          2.2           6.4          2.8
134  Iris-virginica           5.1          1.5           6.3          2.8
135  Iris-virginica           5.6          1.4           6.1          2.6
136  Iris-virginica           6.1          2.3           7.7          3.0
137  Iris-virginica           5.6          2.4           6.3          3.4
138  Iris-virginica           5.5          1.8           6.4          3.1
139  Iris-virginica           4.8          1.8           6.0          3.0
140  Iris-virginica           5.4          2.1           6.9          3.1
141  Iris-virginica           5.6          2.4           6.7          3.1
142  Iris-virginica           5.1          2.3           6.9          3.1
143  Iris-virginica           5.1          1.9           5.8          2.7
144  Iris-virginica           5.9          2.3           6.8          3.2
145  Iris-virginica           5.7          2.5           6.7          3.3
146  Iris-virginica           5.2          2.3           6.7          3.0
147  Iris-virginica           5.0          1.9           6.3          2.5
148  Iris-virginica           5.2          2.0           6.5          3.0
149  Iris-virginica           5.4          2.3           6.2          3.4
150  Iris-virginica           5.1          1.8           5.9          3.0
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">psycopg2</span>
<span class="kn">import</span> <span class="nn">pymysql</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="k">def</span> <span class="nf">get_pg_data</span><span class="p">():</span>
    <span class="n">conn</span> <span class="o">=</span> <span class="n">psycopg2</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
        <span class="n">host</span><span class="o">=</span><span class="s2">&quot;postgre-mysqliris.g.aivencloud.com&quot;</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="s2">&quot;avnadmin&quot;</span><span class="p">,</span>
        <span class="n">password</span><span class="o">=</span><span class="s2">&quot;AVNS_ldSz_mZZNFskZEWcZsJ&quot;</span><span class="p">,</span>
        <span class="n">database</span><span class="o">=</span><span class="s2">&quot;defaultdb&quot;</span><span class="p">,</span>
        <span class="n">port</span><span class="o">=</span><span class="mi">10378</span>
    <span class="p">)</span>
    <span class="n">cursor</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;SELECT * FROM sepaliris&quot;</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
    <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">desc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">desc</span> <span class="ow">in</span> <span class="n">cursor</span><span class="o">.</span><span class="n">description</span><span class="p">]</span>  <span class="c1"># Ambil nama kolom</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">get_mysql_data</span><span class="p">():</span>
    <span class="n">conn</span> <span class="o">=</span> <span class="n">pymysql</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
        <span class="n">host</span><span class="o">=</span><span class="s2">&quot;mysql-37a70601-mysqliris.i.aivencloud.com&quot;</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="s2">&quot;avnadmin&quot;</span><span class="p">,</span>
        <span class="n">password</span><span class="o">=</span><span class="s2">&quot;AVNS_3JRmZQG_Bul1_r-Rhl6&quot;</span><span class="p">,</span>
        <span class="n">database</span><span class="o">=</span><span class="s2">&quot;petal&quot;</span><span class="p">,</span>
        <span class="n">port</span><span class="o">=</span><span class="mi">10378</span>
    <span class="p">)</span>
    <span class="n">cursor</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;SELECT * FROM petaliris&quot;</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
    <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">desc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">desc</span> <span class="ow">in</span> <span class="n">cursor</span><span class="o">.</span><span class="n">description</span><span class="p">]</span>  <span class="c1"># Ambil nama kolom</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">)</span>

<span class="c1"># Ambil data dari kedua database</span>
<span class="n">df_postgresql</span> <span class="o">=</span> <span class="n">get_pg_data</span><span class="p">()</span>
<span class="n">df_mysql</span> <span class="o">=</span> <span class="n">get_mysql_data</span><span class="p">()</span>

<span class="c1"># Gabungkan berdasarkan kolom &#39;id&#39; dan &#39;class&#39;</span>
<span class="n">df_merged</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df_mysql</span><span class="p">,</span> <span class="n">df_postgresql</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;class&quot;</span><span class="p">],</span> <span class="n">how</span><span class="o">=</span><span class="s2">&quot;inner&quot;</span><span class="p">)</span>

<span class="c1"># Tampilkan hanya kolom id, class, dan sepal_length</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_merged</span><span class="p">[[</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;class&quot;</span><span class="p">,</span> <span class="s2">&quot;sepal_length&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">to_string</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> id           class  sepal_length
  1     Iris-setosa           5.1
  2     Iris-setosa           4.9
  3     Iris-setosa           4.7
  4     Iris-setosa           4.6
  5     Iris-setosa           5.0
  6     Iris-setosa           5.4
  7     Iris-setosa           4.6
  8     Iris-setosa           5.0
  9     Iris-setosa           4.4
 10     Iris-setosa           4.9
 11     Iris-setosa           5.4
 12     Iris-setosa           4.8
 13     Iris-setosa           4.8
 14     Iris-setosa           4.3
 15     Iris-setosa           5.8
 16     Iris-setosa           5.7
 17     Iris-setosa           5.4
 18     Iris-setosa           5.1
 19     Iris-setosa           5.7
 20     Iris-setosa           5.1
 21     Iris-setosa           5.4
 22     Iris-setosa           5.1
 23     Iris-setosa           4.6
 24     Iris-setosa           5.1
 25     Iris-setosa           4.8
 26     Iris-setosa           5.0
 27     Iris-setosa           5.0
 28     Iris-setosa           5.2
 29     Iris-setosa           5.2
 30     Iris-setosa           4.7
 31     Iris-setosa           4.8
 32     Iris-setosa           5.4
 33     Iris-setosa           5.2
 34     Iris-setosa           5.5
 35     Iris-setosa           4.9
 36     Iris-setosa           5.0
 37     Iris-setosa           5.5
 38     Iris-setosa           4.9
 39     Iris-setosa           4.4
 40     Iris-setosa           5.1
 41     Iris-setosa           5.0
 42     Iris-setosa           4.5
 43     Iris-setosa           4.4
 44     Iris-setosa           5.0
 45     Iris-setosa           5.1
 46     Iris-setosa           4.8
 47     Iris-setosa           5.1
 48     Iris-setosa           4.6
 49     Iris-setosa           5.3
 50     Iris-setosa           5.0
 51 Iris-versicolor           7.0
 52 Iris-versicolor           6.4
 53 Iris-versicolor           6.9
 54 Iris-versicolor           5.5
 55 Iris-versicolor           6.5
 56 Iris-versicolor           5.7
 57 Iris-versicolor           6.3
 58 Iris-versicolor           4.9
 59 Iris-versicolor           6.6
 60 Iris-versicolor           5.2
 61 Iris-versicolor           5.0
 62 Iris-versicolor           5.9
 63 Iris-versicolor           6.0
 64 Iris-versicolor           6.1
 65 Iris-versicolor           5.6
 66 Iris-versicolor           6.7
 67 Iris-versicolor           5.6
 68 Iris-versicolor           5.8
 69 Iris-versicolor           6.2
 70 Iris-versicolor           5.6
 71 Iris-versicolor           5.9
 72 Iris-versicolor           6.1
 73 Iris-versicolor           6.3
 74 Iris-versicolor           6.1
 75 Iris-versicolor           6.4
 76 Iris-versicolor           6.6
 77 Iris-versicolor           6.8
 78 Iris-versicolor           6.7
 79 Iris-versicolor           6.0
 80 Iris-versicolor           5.7
 81 Iris-versicolor           5.5
 82 Iris-versicolor           5.5
 83 Iris-versicolor           5.8
 84 Iris-versicolor           6.0
 85 Iris-versicolor           5.4
 86 Iris-versicolor           6.0
 87 Iris-versicolor           6.7
 88 Iris-versicolor           6.3
 89 Iris-versicolor           5.6
 90 Iris-versicolor           5.5
 91 Iris-versicolor           5.5
 92 Iris-versicolor           6.1
 93 Iris-versicolor           5.8
 94 Iris-versicolor           5.0
 95 Iris-versicolor           5.6
 96 Iris-versicolor           5.7
 97 Iris-versicolor           5.7
 98 Iris-versicolor           6.2
 99 Iris-versicolor           5.1
100 Iris-versicolor           5.7
101  Iris-virginica           6.3
102  Iris-virginica           5.8
103  Iris-virginica           7.1
104  Iris-virginica           6.3
105  Iris-virginica           6.5
106  Iris-virginica           7.6
107  Iris-virginica           4.9
108  Iris-virginica           7.3
109  Iris-virginica           6.7
110  Iris-virginica           7.2
111  Iris-virginica           6.5
112  Iris-virginica           6.4
113  Iris-virginica           6.8
114  Iris-virginica           5.7
115  Iris-virginica           5.8
116  Iris-virginica           6.4
117  Iris-virginica           6.5
118  Iris-virginica           7.7
119  Iris-virginica           7.7
120  Iris-virginica           6.0
121  Iris-virginica           6.9
122  Iris-virginica           5.6
123  Iris-virginica           7.7
124  Iris-virginica           6.3
125  Iris-virginica           6.7
126  Iris-virginica           7.2
127  Iris-virginica           6.2
128  Iris-virginica           6.1
129  Iris-virginica           6.4
130  Iris-virginica           7.2
131  Iris-virginica           7.4
132  Iris-virginica           7.9
133  Iris-virginica           6.4
134  Iris-virginica           6.3
135  Iris-virginica           6.1
136  Iris-virginica           7.7
137  Iris-virginica           6.3
138  Iris-virginica           6.4
139  Iris-virginica           6.0
140  Iris-virginica           6.9
141  Iris-virginica           6.7
142  Iris-virginica           6.9
143  Iris-virginica           5.8
144  Iris-virginica           6.8
145  Iris-virginica           6.7
146  Iris-virginica           6.7
147  Iris-virginica           6.3
148  Iris-virginica           6.5
149  Iris-virginica           6.2
150  Iris-virginica           5.9
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">psycopg2</span>
<span class="kn">import</span> <span class="nn">pymysql</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">from</span> <span class="nn">sklearn.cluster</span> <span class="kn">import</span> <span class="n">KMeans</span>

<span class="c1"># =========================</span>
<span class="c1"># FUNGSI AMBIL DATA</span>
<span class="c1"># =========================</span>

<span class="k">def</span> <span class="nf">get_pg_data</span><span class="p">():</span>
    <span class="n">conn</span> <span class="o">=</span> <span class="n">psycopg2</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
        <span class="n">host</span><span class="o">=</span><span class="s2">&quot;postgre-mysqliris.g.aivencloud.com&quot;</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="s2">&quot;avnadmin&quot;</span><span class="p">,</span>
        <span class="n">password</span><span class="o">=</span><span class="s2">&quot;AVNS_ldSz_mZZNFskZEWcZsJ&quot;</span><span class="p">,</span>
        <span class="n">database</span><span class="o">=</span><span class="s2">&quot;defaultdb&quot;</span><span class="p">,</span>
        <span class="n">port</span><span class="o">=</span><span class="mi">10378</span>
    <span class="p">)</span>
    <span class="n">cursor</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;SELECT * FROM sepaliris&quot;</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
    <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">desc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">desc</span> <span class="ow">in</span> <span class="n">cursor</span><span class="o">.</span><span class="n">description</span><span class="p">]</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">get_mysql_data</span><span class="p">():</span>
    <span class="n">conn</span> <span class="o">=</span> <span class="n">pymysql</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
        <span class="n">host</span><span class="o">=</span><span class="s2">&quot;mysql-37a70601-mysqliris.i.aivencloud.com&quot;</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="s2">&quot;avnadmin&quot;</span><span class="p">,</span>
        <span class="n">password</span><span class="o">=</span><span class="s2">&quot;AVNS_3JRmZQG_Bul1_r-Rhl6&quot;</span><span class="p">,</span>
        <span class="n">database</span><span class="o">=</span><span class="s2">&quot;petal&quot;</span><span class="p">,</span>
        <span class="n">port</span><span class="o">=</span><span class="mi">10378</span>
    <span class="p">)</span>
    <span class="n">cursor</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;SELECT * FROM petaliris&quot;</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
    <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">desc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">desc</span> <span class="ow">in</span> <span class="n">cursor</span><span class="o">.</span><span class="n">description</span><span class="p">]</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">)</span>

<span class="c1"># =========================</span>
<span class="c1"># GABUNG DATA</span>
<span class="c1"># =========================</span>

<span class="n">df_postgresql</span> <span class="o">=</span> <span class="n">get_pg_data</span><span class="p">()</span>
<span class="n">df_mysql</span> <span class="o">=</span> <span class="n">get_mysql_data</span><span class="p">()</span>
<span class="n">df_merged</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df_mysql</span><span class="p">,</span> <span class="n">df_postgresql</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;class&quot;</span><span class="p">],</span> <span class="n">how</span><span class="o">=</span><span class="s2">&quot;inner&quot;</span><span class="p">)</span>

<span class="c1"># =========================</span>
<span class="c1"># CLUSTERING K-MEANS (4 CLUSTER)</span>
<span class="c1"># =========================</span>

<span class="n">features</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;sepal_length&quot;</span><span class="p">,</span> <span class="s2">&quot;sepal_width&quot;</span><span class="p">,</span> <span class="s2">&quot;petal_length&quot;</span><span class="p">,</span> <span class="s2">&quot;petal_width&quot;</span><span class="p">]</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df_merged</span><span class="p">[</span><span class="n">features</span><span class="p">]</span>

<span class="n">kmeans</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;cluster&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kmeans</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">X</span><span class="p">)</span>

<span class="c1"># =========================</span>
<span class="c1"># VISUALISASI CLUSTERING</span>
<span class="c1"># =========================</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">7</span><span class="p">))</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span>
    <span class="n">data</span><span class="o">=</span><span class="n">df_merged</span><span class="p">,</span>
    <span class="n">x</span><span class="o">=</span><span class="s2">&quot;sepal_length&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;petal_length&quot;</span><span class="p">,</span>
    <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;cluster&quot;</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="s2">&quot;tab10&quot;</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">100</span>
<span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Clustering K-Means dengan Sepal &amp; Petal Features&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Sepal Length&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Petal Length&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Cluster&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># =========================</span>
<span class="c1"># CETAK DATA (TANPA KOLOM CLUSTER)</span>
<span class="c1"># =========================</span>

<span class="nb">print</span><span class="p">(</span><span class="n">df_merged</span><span class="p">[[</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;class&quot;</span><span class="p">,</span> <span class="s2">&quot;sepal_length&quot;</span><span class="p">,</span> <span class="s2">&quot;sepal_width&quot;</span><span class="p">,</span> <span class="s2">&quot;petal_length&quot;</span><span class="p">,</span> <span class="s2">&quot;petal_width&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">to_string</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/5b7e5c61a9c1b2448767caf759f8312e8d9528e3f816951b5c3e31acea001870.png" src="_images/5b7e5c61a9c1b2448767caf759f8312e8d9528e3f816951b5c3e31acea001870.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> id           class  sepal_length  sepal_width  petal_length  petal_width
  1     Iris-setosa           5.1          3.5           1.4          0.2
  2     Iris-setosa           4.9          3.0           1.4          0.2
  3     Iris-setosa           4.7          3.2           1.3          0.2
  4     Iris-setosa           4.6          3.1           1.5          0.2
  5     Iris-setosa           5.0          3.6           1.4          0.2
  6     Iris-setosa           5.4          3.9           1.7          0.4
  7     Iris-setosa           4.6          3.4           1.4          0.3
  8     Iris-setosa           5.0          3.4           1.5          0.2
  9     Iris-setosa           4.4          2.9           1.4          0.2
 10     Iris-setosa           4.9          3.1           1.5          0.1
 11     Iris-setosa           5.4          3.7           1.5          0.2
 12     Iris-setosa           4.8          3.4           1.6          0.2
 13     Iris-setosa           4.8          3.0           1.4          0.1
 14     Iris-setosa           4.3          3.0           1.1          0.1
 15     Iris-setosa           5.8          4.0           1.2          0.2
 16     Iris-setosa           5.7          4.4           1.5          0.4
 17     Iris-setosa           5.4          3.9           1.3          0.4
 18     Iris-setosa           5.1          3.5           1.4          0.3
 19     Iris-setosa           5.7          3.8           1.7          0.3
 20     Iris-setosa           5.1          3.8           1.5          0.3
 21     Iris-setosa           5.4          3.4           1.7          0.2
 22     Iris-setosa           5.1          3.7           1.5          0.4
 23     Iris-setosa           4.6          3.6           1.0          0.2
 24     Iris-setosa           5.1          3.3           1.7          0.5
 25     Iris-setosa           4.8          3.4           1.9          0.2
 26     Iris-setosa           5.0          3.0           1.6          0.2
 27     Iris-setosa           5.0          3.4           1.6          0.4
 28     Iris-setosa           5.2          3.5           1.5          0.2
 29     Iris-setosa           5.2          3.4           1.4          0.2
 30     Iris-setosa           4.7          3.2           1.6          0.2
 31     Iris-setosa           4.8          3.1           1.6          0.2
 32     Iris-setosa           5.4          3.4           1.5          0.4
 33     Iris-setosa           5.2          4.1           1.5          0.1
 34     Iris-setosa           5.5          4.2           1.4          0.2
 35     Iris-setosa           4.9          3.1           1.5          0.1
 36     Iris-setosa           5.0          3.2           1.2          0.2
 37     Iris-setosa           5.5          3.5           1.3          0.2
 38     Iris-setosa           4.9          3.1           1.5          0.1
 39     Iris-setosa           4.4          3.0           1.3          0.2
 40     Iris-setosa           5.1          3.4           1.5          0.2
 41     Iris-setosa           5.0          3.5           1.3          0.3
 42     Iris-setosa           4.5          2.3           1.3          0.3
 43     Iris-setosa           4.4          3.2           1.3          0.2
 44     Iris-setosa           5.0          3.5           1.6          0.6
 45     Iris-setosa           5.1          3.8           1.9          0.4
 46     Iris-setosa           4.8          3.0           1.4          0.3
 47     Iris-setosa           5.1          3.8           1.6          0.2
 48     Iris-setosa           4.6          3.2           1.4          0.2
 49     Iris-setosa           5.3          3.7           1.5          0.2
 50     Iris-setosa           5.0          3.3           1.4          0.2
 51 Iris-versicolor           7.0          3.2           4.7          1.4
 52 Iris-versicolor           6.4          3.2           4.5          1.5
 53 Iris-versicolor           6.9          3.1           4.9          1.5
 54 Iris-versicolor           5.5          2.3           4.0          1.3
 55 Iris-versicolor           6.5          2.8           4.6          1.5
 56 Iris-versicolor           5.7          2.8           4.5          1.3
 57 Iris-versicolor           6.3          3.3           4.7          1.6
 58 Iris-versicolor           4.9          2.4           3.3          1.0
 59 Iris-versicolor           6.6          2.9           4.6          1.3
 60 Iris-versicolor           5.2          2.7           3.9          1.4
 61 Iris-versicolor           5.0          2.0           3.5          1.0
 62 Iris-versicolor           5.9          3.0           4.2          1.5
 63 Iris-versicolor           6.0          2.2           4.0          1.0
 64 Iris-versicolor           6.1          2.9           4.7          1.4
 65 Iris-versicolor           5.6          2.9           3.6          1.3
 66 Iris-versicolor           6.7          3.1           4.4          1.4
 67 Iris-versicolor           5.6          3.0           4.5          1.5
 68 Iris-versicolor           5.8          2.7           4.1          1.0
 69 Iris-versicolor           6.2          2.2           4.5          1.5
 70 Iris-versicolor           5.6          2.5           3.9          1.1
 71 Iris-versicolor           5.9          3.2           4.8          1.8
 72 Iris-versicolor           6.1          2.8           4.0          1.3
 73 Iris-versicolor           6.3          2.5           4.9          1.5
 74 Iris-versicolor           6.1          2.8           4.7          1.2
 75 Iris-versicolor           6.4          2.9           4.3          1.3
 76 Iris-versicolor           6.6          3.0           4.4          1.4
 77 Iris-versicolor           6.8          2.8           4.8          1.4
 78 Iris-versicolor           6.7          3.0           5.0          1.7
 79 Iris-versicolor           6.0          2.9           4.5          1.5
 80 Iris-versicolor           5.7          2.6           3.5          1.0
 81 Iris-versicolor           5.5          2.4           3.8          1.1
 82 Iris-versicolor           5.5          2.4           3.7          1.0
 83 Iris-versicolor           5.8          2.7           3.9          1.2
 84 Iris-versicolor           6.0          2.7           5.1          1.6
 85 Iris-versicolor           5.4          3.0           4.5          1.5
 86 Iris-versicolor           6.0          3.4           4.5          1.6
 87 Iris-versicolor           6.7          3.1           4.7          1.5
 88 Iris-versicolor           6.3          2.3           4.4          1.3
 89 Iris-versicolor           5.6          3.0           4.1          1.3
 90 Iris-versicolor           5.5          2.5           4.0          1.3
 91 Iris-versicolor           5.5          2.6           4.4          1.2
 92 Iris-versicolor           6.1          3.0           4.6          1.4
 93 Iris-versicolor           5.8          2.6           4.0          1.2
 94 Iris-versicolor           5.0          2.3           3.3          1.0
 95 Iris-versicolor           5.6          2.7           4.2          1.3
 96 Iris-versicolor           5.7          3.0           4.2          1.2
 97 Iris-versicolor           5.7          2.9           4.2          1.3
 98 Iris-versicolor           6.2          2.9           4.3          1.3
 99 Iris-versicolor           5.1          2.5           3.0          1.1
100 Iris-versicolor           5.7          2.8           4.1          1.3
101  Iris-virginica           6.3          3.3           6.0          2.5
102  Iris-virginica           5.8          2.7           5.1          1.9
103  Iris-virginica           7.1          3.0           5.9          2.1
104  Iris-virginica           6.3          2.9           5.6          1.8
105  Iris-virginica           6.5          3.0           5.8          2.2
106  Iris-virginica           7.6          3.0           6.6          2.1
107  Iris-virginica           4.9          2.5           4.5          1.7
108  Iris-virginica           7.3          2.9           6.3          1.8
109  Iris-virginica           6.7          2.5           5.8          1.8
110  Iris-virginica           7.2          3.6           6.1          2.5
111  Iris-virginica           6.5          3.2           5.1          2.0
112  Iris-virginica           6.4          2.7           5.3          1.9
113  Iris-virginica           6.8          3.0           5.5          2.1
114  Iris-virginica           5.7          2.5           5.0          2.0
115  Iris-virginica           5.8          2.8           5.1          2.4
116  Iris-virginica           6.4          3.2           5.3          2.3
117  Iris-virginica           6.5          3.0           5.5          1.8
118  Iris-virginica           7.7          3.8           6.7          2.2
119  Iris-virginica           7.7          2.6           6.9          2.3
120  Iris-virginica           6.0          2.2           5.0          1.5
121  Iris-virginica           6.9          3.2           5.7          2.3
122  Iris-virginica           5.6          2.8           4.9          2.0
123  Iris-virginica           7.7          2.8           6.7          2.0
124  Iris-virginica           6.3          2.7           4.9          1.8
125  Iris-virginica           6.7          3.3           5.7          2.1
126  Iris-virginica           7.2          3.2           6.0          1.8
127  Iris-virginica           6.2          2.8           4.8          1.8
128  Iris-virginica           6.1          3.0           4.9          1.8
129  Iris-virginica           6.4          2.8           5.6          2.1
130  Iris-virginica           7.2          3.0           5.8          1.6
131  Iris-virginica           7.4          2.8           6.1          1.9
132  Iris-virginica           7.9          3.8           6.4          2.0
133  Iris-virginica           6.4          2.8           5.6          2.2
134  Iris-virginica           6.3          2.8           5.1          1.5
135  Iris-virginica           6.1          2.6           5.6          1.4
136  Iris-virginica           7.7          3.0           6.1          2.3
137  Iris-virginica           6.3          3.4           5.6          2.4
138  Iris-virginica           6.4          3.1           5.5          1.8
139  Iris-virginica           6.0          3.0           4.8          1.8
140  Iris-virginica           6.9          3.1           5.4          2.1
141  Iris-virginica           6.7          3.1           5.6          2.4
142  Iris-virginica           6.9          3.1           5.1          2.3
143  Iris-virginica           5.8          2.7           5.1          1.9
144  Iris-virginica           6.8          3.2           5.9          2.3
145  Iris-virginica           6.7          3.3           5.7          2.5
146  Iris-virginica           6.7          3.0           5.2          2.3
147  Iris-virginica           6.3          2.5           5.0          1.9
148  Iris-virginica           6.5          3.0           5.2          2.0
149  Iris-virginica           6.2          3.4           5.4          2.3
150  Iris-virginica           5.9          3.0           5.1          1.8
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">psycopg2</span>
<span class="kn">import</span> <span class="nn">pymysql</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">from</span> <span class="nn">sklearn.cluster</span> <span class="kn">import</span> <span class="n">KMeans</span>

<span class="k">def</span> <span class="nf">get_pg_data</span><span class="p">():</span>
    <span class="n">conn</span> <span class="o">=</span> <span class="n">psycopg2</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
        <span class="n">host</span><span class="o">=</span><span class="s2">&quot;postgre-mysqliris.g.aivencloud.com&quot;</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="s2">&quot;avnadmin&quot;</span><span class="p">,</span>
        <span class="n">password</span><span class="o">=</span><span class="s2">&quot;AVNS_ldSz_mZZNFskZEWcZsJ&quot;</span><span class="p">,</span>
        <span class="n">database</span><span class="o">=</span><span class="s2">&quot;defaultdb&quot;</span><span class="p">,</span>
        <span class="n">port</span><span class="o">=</span><span class="mi">10378</span>
    <span class="p">)</span>
    <span class="n">cursor</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;SELECT * FROM sepaliris&quot;</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
    <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">desc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">desc</span> <span class="ow">in</span> <span class="n">cursor</span><span class="o">.</span><span class="n">description</span><span class="p">]</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">get_mysql_data</span><span class="p">():</span>
    <span class="n">conn</span> <span class="o">=</span> <span class="n">pymysql</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
        <span class="n">host</span><span class="o">=</span><span class="s2">&quot;mysql-37a70601-mysqliris.i.aivencloud.com&quot;</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="s2">&quot;avnadmin&quot;</span><span class="p">,</span>
        <span class="n">password</span><span class="o">=</span><span class="s2">&quot;AVNS_3JRmZQG_Bul1_r-Rhl6&quot;</span><span class="p">,</span>
        <span class="n">database</span><span class="o">=</span><span class="s2">&quot;petal&quot;</span><span class="p">,</span>
        <span class="n">port</span><span class="o">=</span><span class="mi">10378</span>
    <span class="p">)</span>
    <span class="n">cursor</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;SELECT * FROM petaliris&quot;</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
    <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">desc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">desc</span> <span class="ow">in</span> <span class="n">cursor</span><span class="o">.</span><span class="n">description</span><span class="p">]</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">)</span>

<span class="c1"># Ambil data dari kedua database</span>
<span class="n">df_postgresql</span> <span class="o">=</span> <span class="n">get_pg_data</span><span class="p">()</span>
<span class="n">df_mysql</span> <span class="o">=</span> <span class="n">get_mysql_data</span><span class="p">()</span>

<span class="c1"># Gabungkan berdasarkan kolom &#39;id&#39; dan &#39;class&#39;</span>
<span class="n">df_merged</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df_mysql</span><span class="p">,</span> <span class="n">df_postgresql</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;class&quot;</span><span class="p">],</span> <span class="n">how</span><span class="o">=</span><span class="s2">&quot;inner&quot;</span><span class="p">)</span>

<span class="c1"># =========================</span>
<span class="c1"># CLUSTERING SEPAL_LENGTH</span>
<span class="c1"># =========================</span>
<span class="n">kmeans_length</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;sepal_length_cluster&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kmeans_length</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">df_merged</span><span class="p">[[</span><span class="s2">&quot;sepal_length&quot;</span><span class="p">]])</span>
<span class="n">cluster_labels</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;d&#39;</span><span class="p">}</span>
<span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;sepal_length_cluster&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;sepal_length_cluster&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">cluster_labels</span><span class="p">)</span>

<span class="c1"># =========================</span>
<span class="c1"># CLUSTERING SEPAL_WIDTH</span>
<span class="c1"># =========================</span>
<span class="n">kmeans_width</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;sepal_width_cluster&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kmeans_width</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">df_merged</span><span class="p">[[</span><span class="s2">&quot;sepal_width&quot;</span><span class="p">]])</span>
<span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;sepal_width_cluster&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;sepal_width_cluster&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">cluster_labels</span><span class="p">)</span>

<span class="c1"># =========================</span>
<span class="c1"># CETAK DATA DENGAN KATEGORI</span>
<span class="c1"># =========================</span>
<span class="n">df_merged</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span>
    <span class="s2">&quot;sepal_length_cluster&quot;</span><span class="p">:</span> <span class="s2">&quot;Sepal_Length&quot;</span><span class="p">,</span>
    <span class="s2">&quot;sepal_width_cluster&quot;</span><span class="p">:</span> <span class="s2">&quot;Sepal_Width&quot;</span>
<span class="p">},</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">df_merged</span><span class="p">[[</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;class&quot;</span><span class="p">,</span> <span class="s2">&quot;Sepal_Length&quot;</span><span class="p">,</span> <span class="s2">&quot;Sepal_Width&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">to_string</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> id           class Sepal_Length Sepal_Width
  1     Iris-setosa            c           a
  2     Iris-setosa            c           c
  3     Iris-setosa            c           a
  4     Iris-setosa            c           a
  5     Iris-setosa            c           d
  6     Iris-setosa            b           d
  7     Iris-setosa            c           a
  8     Iris-setosa            c           a
  9     Iris-setosa            c           c
 10     Iris-setosa            c           a
 11     Iris-setosa            b           d
 12     Iris-setosa            c           a
 13     Iris-setosa            c           c
 14     Iris-setosa            c           c
 15     Iris-setosa            b           d
 16     Iris-setosa            b           d
 17     Iris-setosa            b           d
 18     Iris-setosa            c           a
 19     Iris-setosa            b           d
 20     Iris-setosa            c           d
 21     Iris-setosa            b           a
 22     Iris-setosa            c           d
 23     Iris-setosa            c           d
 24     Iris-setosa            c           a
 25     Iris-setosa            c           a
 26     Iris-setosa            c           c
 27     Iris-setosa            c           a
 28     Iris-setosa            c           a
 29     Iris-setosa            c           a
 30     Iris-setosa            c           a
 31     Iris-setosa            c           a
 32     Iris-setosa            b           a
 33     Iris-setosa            c           d
 34     Iris-setosa            b           d
 35     Iris-setosa            c           a
 36     Iris-setosa            c           a
 37     Iris-setosa            b           a
 38     Iris-setosa            c           a
 39     Iris-setosa            c           c
 40     Iris-setosa            c           a
 41     Iris-setosa            c           a
 42     Iris-setosa            c           b
 43     Iris-setosa            c           a
 44     Iris-setosa            c           a
 45     Iris-setosa            c           d
 46     Iris-setosa            c           c
 47     Iris-setosa            c           d
 48     Iris-setosa            c           a
 49     Iris-setosa            b           d
 50     Iris-setosa            c           a
 51 Iris-versicolor            d           a
 52 Iris-versicolor            a           a
 53 Iris-versicolor            d           a
 54 Iris-versicolor            b           b
 55 Iris-versicolor            a           c
 56 Iris-versicolor            b           c
 57 Iris-versicolor            a           a
 58 Iris-versicolor            c           b
 59 Iris-versicolor            a           c
 60 Iris-versicolor            c           b
 61 Iris-versicolor            c           b
 62 Iris-versicolor            b           c
 63 Iris-versicolor            a           b
 64 Iris-versicolor            a           c
 65 Iris-versicolor            b           c
 66 Iris-versicolor            a           a
 67 Iris-versicolor            b           c
 68 Iris-versicolor            b           b
 69 Iris-versicolor            a           b
 70 Iris-versicolor            b           b
 71 Iris-versicolor            b           a
 72 Iris-versicolor            a           c
 73 Iris-versicolor            a           b
 74 Iris-versicolor            a           c
 75 Iris-versicolor            a           c
 76 Iris-versicolor            a           c
 77 Iris-versicolor            d           c
 78 Iris-versicolor            a           c
 79 Iris-versicolor            a           c
 80 Iris-versicolor            b           b
 81 Iris-versicolor            b           b
 82 Iris-versicolor            b           b
 83 Iris-versicolor            b           b
 84 Iris-versicolor            a           b
 85 Iris-versicolor            b           c
 86 Iris-versicolor            a           a
 87 Iris-versicolor            a           a
 88 Iris-versicolor            a           b
 89 Iris-versicolor            b           c
 90 Iris-versicolor            b           b
 91 Iris-versicolor            b           b
 92 Iris-versicolor            a           c
 93 Iris-versicolor            b           b
 94 Iris-versicolor            c           b
 95 Iris-versicolor            b           b
 96 Iris-versicolor            b           c
 97 Iris-versicolor            b           c
 98 Iris-versicolor            a           c
 99 Iris-versicolor            c           b
100 Iris-versicolor            b           c
101  Iris-virginica            a           a
102  Iris-virginica            b           b
103  Iris-virginica            d           c
104  Iris-virginica            a           c
105  Iris-virginica            a           c
106  Iris-virginica            d           c
107  Iris-virginica            c           b
108  Iris-virginica            d           c
109  Iris-virginica            a           b
110  Iris-virginica            d           d
111  Iris-virginica            a           a
112  Iris-virginica            a           b
113  Iris-virginica            d           c
114  Iris-virginica            b           b
115  Iris-virginica            b           c
116  Iris-virginica            a           a
117  Iris-virginica            a           c
118  Iris-virginica            d           d
119  Iris-virginica            d           b
120  Iris-virginica            a           b
121  Iris-virginica            d           a
122  Iris-virginica            b           c
123  Iris-virginica            d           c
124  Iris-virginica            a           b
125  Iris-virginica            a           a
126  Iris-virginica            d           a
127  Iris-virginica            a           c
128  Iris-virginica            a           c
129  Iris-virginica            a           c
130  Iris-virginica            d           c
131  Iris-virginica            d           c
132  Iris-virginica            d           d
133  Iris-virginica            a           c
134  Iris-virginica            a           c
135  Iris-virginica            a           b
136  Iris-virginica            d           c
137  Iris-virginica            a           a
138  Iris-virginica            a           a
139  Iris-virginica            a           c
140  Iris-virginica            d           a
141  Iris-virginica            a           a
142  Iris-virginica            d           a
143  Iris-virginica            b           b
144  Iris-virginica            d           a
145  Iris-virginica            a           a
146  Iris-virginica            a           c
147  Iris-virginica            a           b
148  Iris-virginica            a           c
149  Iris-virginica            a           a
150  Iris-virginica            b           c
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">psycopg2</span>
<span class="kn">import</span> <span class="nn">pymysql</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">from</span> <span class="nn">sklearn.cluster</span> <span class="kn">import</span> <span class="n">KMeans</span>

<span class="k">def</span> <span class="nf">get_pg_data</span><span class="p">():</span>
    <span class="n">conn</span> <span class="o">=</span> <span class="n">psycopg2</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
        <span class="n">host</span><span class="o">=</span><span class="s2">&quot;postgre-mysqliris.g.aivencloud.com&quot;</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="s2">&quot;avnadmin&quot;</span><span class="p">,</span>
        <span class="n">password</span><span class="o">=</span><span class="s2">&quot;AVNS_ldSz_mZZNFskZEWcZsJ&quot;</span><span class="p">,</span>
        <span class="n">database</span><span class="o">=</span><span class="s2">&quot;defaultdb&quot;</span><span class="p">,</span>
        <span class="n">port</span><span class="o">=</span><span class="mi">10378</span>
    <span class="p">)</span>
    <span class="n">cursor</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;SELECT * FROM sepaliris&quot;</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
    <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">desc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">desc</span> <span class="ow">in</span> <span class="n">cursor</span><span class="o">.</span><span class="n">description</span><span class="p">]</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">get_mysql_data</span><span class="p">():</span>
    <span class="n">conn</span> <span class="o">=</span> <span class="n">pymysql</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
        <span class="n">host</span><span class="o">=</span><span class="s2">&quot;mysql-37a70601-mysqliris.i.aivencloud.com&quot;</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="s2">&quot;avnadmin&quot;</span><span class="p">,</span>
        <span class="n">password</span><span class="o">=</span><span class="s2">&quot;AVNS_3JRmZQG_Bul1_r-Rhl6&quot;</span><span class="p">,</span>
        <span class="n">database</span><span class="o">=</span><span class="s2">&quot;petal&quot;</span><span class="p">,</span>
        <span class="n">port</span><span class="o">=</span><span class="mi">10378</span>
    <span class="p">)</span>
    <span class="n">cursor</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;SELECT * FROM petaliris&quot;</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
    <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">desc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">desc</span> <span class="ow">in</span> <span class="n">cursor</span><span class="o">.</span><span class="n">description</span><span class="p">]</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">)</span>

<span class="c1"># Ambil data dari kedua database</span>
<span class="n">df_postgresql</span> <span class="o">=</span> <span class="n">get_pg_data</span><span class="p">()</span>
<span class="n">df_mysql</span> <span class="o">=</span> <span class="n">get_mysql_data</span><span class="p">()</span>

<span class="c1"># Gabungkan berdasarkan kolom &#39;id&#39; dan &#39;class&#39;</span>
<span class="n">df_merged</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df_mysql</span><span class="p">,</span> <span class="n">df_postgresql</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;class&quot;</span><span class="p">],</span> <span class="n">how</span><span class="o">=</span><span class="s2">&quot;inner&quot;</span><span class="p">)</span>

<span class="c1"># Mapping cluster angka ke huruf</span>
<span class="n">cluster_labels</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;d&#39;</span><span class="p">}</span>

<span class="c1"># =========================</span>
<span class="c1"># CLUSTERING SEPAL_LENGTH</span>
<span class="c1"># =========================</span>
<span class="n">kmeans_length</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;Sepal_Length&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kmeans_length</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">df_merged</span><span class="p">[[</span><span class="s2">&quot;sepal_length&quot;</span><span class="p">]])</span>
<span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;Sepal_Length&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;Sepal_Length&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">cluster_labels</span><span class="p">)</span>

<span class="c1"># =========================</span>
<span class="c1"># CLUSTERING SEPAL_WIDTH</span>
<span class="c1"># =========================</span>
<span class="n">kmeans_width</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;Sepal_Width&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kmeans_width</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">df_merged</span><span class="p">[[</span><span class="s2">&quot;sepal_width&quot;</span><span class="p">]])</span>
<span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;Sepal_Width&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;Sepal_Width&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">cluster_labels</span><span class="p">)</span>

<span class="c1"># =========================</span>
<span class="c1"># CLUSTERING PETAL_LENGTH</span>
<span class="c1"># =========================</span>
<span class="n">kmeans_petal_length</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;Petal_Length&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kmeans_petal_length</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">df_merged</span><span class="p">[[</span><span class="s2">&quot;petal_length&quot;</span><span class="p">]])</span>
<span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;Petal_Length&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;Petal_Length&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">cluster_labels</span><span class="p">)</span>

<span class="c1"># =========================</span>
<span class="c1"># CLUSTERING PETAL_WIDTH</span>
<span class="c1"># =========================</span>
<span class="n">kmeans_petal_width</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;Petal_Width&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kmeans_petal_width</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">df_merged</span><span class="p">[[</span><span class="s2">&quot;petal_width&quot;</span><span class="p">]])</span>
<span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;Petal_Width&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;Petal_Width&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">cluster_labels</span><span class="p">)</span>

<span class="c1"># =========================</span>
<span class="c1"># CETAK DATA KATEGORI LENGKAP</span>
<span class="c1"># =========================</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_merged</span><span class="p">[[</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;class&quot;</span><span class="p">,</span> <span class="s2">&quot;Sepal_Length&quot;</span><span class="p">,</span> <span class="s2">&quot;Sepal_Width&quot;</span><span class="p">,</span> <span class="s2">&quot;Petal_Length&quot;</span><span class="p">,</span> <span class="s2">&quot;Petal_Width&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">to_string</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> id           class Sepal_Length Sepal_Width Petal_Length Petal_Width
  1     Iris-setosa            c           a            b           b
  2     Iris-setosa            c           c            b           b
  3     Iris-setosa            c           a            b           b
  4     Iris-setosa            c           a            b           b
  5     Iris-setosa            c           d            b           b
  6     Iris-setosa            b           d            b           b
  7     Iris-setosa            c           a            b           b
  8     Iris-setosa            c           a            b           b
  9     Iris-setosa            c           c            b           b
 10     Iris-setosa            c           a            b           b
 11     Iris-setosa            b           d            b           b
 12     Iris-setosa            c           a            b           b
 13     Iris-setosa            c           c            b           b
 14     Iris-setosa            c           c            b           b
 15     Iris-setosa            b           d            b           b
 16     Iris-setosa            b           d            b           b
 17     Iris-setosa            b           d            b           b
 18     Iris-setosa            c           a            b           b
 19     Iris-setosa            b           d            b           b
 20     Iris-setosa            c           d            b           b
 21     Iris-setosa            b           a            b           b
 22     Iris-setosa            c           d            b           b
 23     Iris-setosa            c           d            b           b
 24     Iris-setosa            c           a            b           b
 25     Iris-setosa            c           a            b           b
 26     Iris-setosa            c           c            b           b
 27     Iris-setosa            c           a            b           b
 28     Iris-setosa            c           a            b           b
 29     Iris-setosa            c           a            b           b
 30     Iris-setosa            c           a            b           b
 31     Iris-setosa            c           a            b           b
 32     Iris-setosa            b           a            b           b
 33     Iris-setosa            c           d            b           b
 34     Iris-setosa            b           d            b           b
 35     Iris-setosa            c           a            b           b
 36     Iris-setosa            c           a            b           b
 37     Iris-setosa            b           a            b           b
 38     Iris-setosa            c           a            b           b
 39     Iris-setosa            c           c            b           b
 40     Iris-setosa            c           a            b           b
 41     Iris-setosa            c           a            b           b
 42     Iris-setosa            c           b            b           b
 43     Iris-setosa            c           a            b           b
 44     Iris-setosa            c           a            b           b
 45     Iris-setosa            c           d            b           b
 46     Iris-setosa            c           c            b           b
 47     Iris-setosa            c           d            b           b
 48     Iris-setosa            c           a            b           b
 49     Iris-setosa            b           d            b           b
 50     Iris-setosa            c           a            b           b
 51 Iris-versicolor            d           a            a           c
 52 Iris-versicolor            a           a            a           a
 53 Iris-versicolor            d           a            a           a
 54 Iris-versicolor            b           b            c           c
 55 Iris-versicolor            a           c            a           a
 56 Iris-versicolor            b           c            a           c
 57 Iris-versicolor            a           a            a           a
 58 Iris-versicolor            c           b            c           c
 59 Iris-versicolor            a           c            a           c
 60 Iris-versicolor            c           b            c           c
 61 Iris-versicolor            c           b            c           c
 62 Iris-versicolor            b           c            c           a
 63 Iris-versicolor            a           b            c           c
 64 Iris-versicolor            a           c            a           c
 65 Iris-versicolor            b           c            c           c
 66 Iris-versicolor            a           a            a           c
 67 Iris-versicolor            b           c            a           a
 68 Iris-versicolor            b           b            c           c
 69 Iris-versicolor            a           b            a           a
 70 Iris-versicolor            b           b            c           c
 71 Iris-versicolor            b           a            a           a
 72 Iris-versicolor            a           c            c           c
 73 Iris-versicolor            a           b            a           a
 74 Iris-versicolor            a           c            a           c
 75 Iris-versicolor            a           c            c           c
 76 Iris-versicolor            a           c            a           c
 77 Iris-versicolor            d           c            a           c
 78 Iris-versicolor            a           c            a           a
 79 Iris-versicolor            a           c            a           a
 80 Iris-versicolor            b           b            c           c
 81 Iris-versicolor            b           b            c           c
 82 Iris-versicolor            b           b            c           c
 83 Iris-versicolor            b           b            c           c
 84 Iris-versicolor            a           b            a           a
 85 Iris-versicolor            b           c            a           a
 86 Iris-versicolor            a           a            a           a
 87 Iris-versicolor            a           a            a           a
 88 Iris-versicolor            a           b            a           c
 89 Iris-versicolor            b           c            c           c
 90 Iris-versicolor            b           b            c           c
 91 Iris-versicolor            b           b            a           c
 92 Iris-versicolor            a           c            a           c
 93 Iris-versicolor            b           b            c           c
 94 Iris-versicolor            c           b            c           c
 95 Iris-versicolor            b           b            c           c
 96 Iris-versicolor            b           c            c           c
 97 Iris-versicolor            b           c            c           c
 98 Iris-versicolor            a           c            c           c
 99 Iris-versicolor            c           b            c           c
100 Iris-versicolor            b           c            c           c
101  Iris-virginica            a           a            d           d
102  Iris-virginica            b           b            a           a
103  Iris-virginica            d           c            d           d
104  Iris-virginica            a           c            d           a
105  Iris-virginica            a           c            d           d
106  Iris-virginica            d           c            d           d
107  Iris-virginica            c           b            a           a
108  Iris-virginica            d           c            d           a
109  Iris-virginica            a           b            d           a
110  Iris-virginica            d           d            d           d
111  Iris-virginica            a           a            a           d
112  Iris-virginica            a           b            a           a
113  Iris-virginica            d           c            d           d
114  Iris-virginica            b           b            a           d
115  Iris-virginica            b           c            a           d
116  Iris-virginica            a           a            a           d
117  Iris-virginica            a           c            d           a
118  Iris-virginica            d           d            d           d
119  Iris-virginica            d           b            d           d
120  Iris-virginica            a           b            a           a
121  Iris-virginica            d           a            d           d
122  Iris-virginica            b           c            a           d
123  Iris-virginica            d           c            d           d
124  Iris-virginica            a           b            a           a
125  Iris-virginica            a           a            d           d
126  Iris-virginica            d           a            d           a
127  Iris-virginica            a           c            a           a
128  Iris-virginica            a           c            a           a
129  Iris-virginica            a           c            d           d
130  Iris-virginica            d           c            d           a
131  Iris-virginica            d           c            d           a
132  Iris-virginica            d           d            d           d
133  Iris-virginica            a           c            d           d
134  Iris-virginica            a           c            a           a
135  Iris-virginica            a           b            d           c
136  Iris-virginica            d           c            d           d
137  Iris-virginica            a           a            d           d
138  Iris-virginica            a           a            d           a
139  Iris-virginica            a           c            a           a
140  Iris-virginica            d           a            d           d
141  Iris-virginica            a           a            d           d
142  Iris-virginica            d           a            a           d
143  Iris-virginica            b           b            a           a
144  Iris-virginica            d           a            d           d
145  Iris-virginica            a           a            d           d
146  Iris-virginica            a           c            a           d
147  Iris-virginica            a           b            a           a
148  Iris-virginica            a           c            a           d
149  Iris-virginica            a           a            d           d
150  Iris-virginica            b           c            a           a
</pre></div>
</div>
</div>
</div>
</section>
<section id="klasifikasi-naive-bayes-pada-data-iris-hasil-diskritisasi-menggunakan-k-means">
<h2>Klasifikasi Naive Bayes pada Data Iris hasil Diskritisasi menggunakan K-Means<a class="headerlink" href="#klasifikasi-naive-bayes-pada-data-iris-hasil-diskritisasi-menggunakan-k-means" title="Link to this heading">#</a></h2>
<section id="lakukan-klasifikasi-naive-bayes-pada-data-iris-hasil-diskritisasi-menggunakan-k-means-untuk-mencari-akurasi-data-iris">
<h3>lakukan klasifikasi Naive Bayes pada data iris hasil diskritisasi menggunakan K-Means, untuk mencari akurasi data iris<a class="headerlink" href="#lakukan-klasifikasi-naive-bayes-pada-data-iris-hasil-diskritisasi-menggunakan-k-means-untuk-mencari-akurasi-data-iris" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">KBinsDiscretizer</span>
<span class="kn">from</span> <span class="nn">sklearn.naive_bayes</span> <span class="kn">import</span> <span class="n">CategoricalNB</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">accuracy_score</span><span class="p">,</span> <span class="n">classification_report</span>

<span class="c1"># Ambil fitur dan target</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df_merged</span><span class="p">[[</span><span class="s2">&quot;sepal_length&quot;</span><span class="p">,</span> <span class="s2">&quot;sepal_width&quot;</span><span class="p">,</span> <span class="s2">&quot;petal_length&quot;</span><span class="p">,</span> <span class="s2">&quot;petal_width&quot;</span><span class="p">]]</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df_merged</span><span class="p">[</span><span class="s2">&quot;class&quot;</span><span class="p">]</span>

<span class="c1"># Split data</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>

<span class="c1"># Diskretisasi dengan metode: &#39;kmeans&#39;, &#39;uniform&#39; (equal width), &#39;quantile&#39; (equal frequency)</span>
<span class="k">def</span> <span class="nf">run_discretized_nb</span><span class="p">(</span><span class="n">strategy</span><span class="p">,</span> <span class="n">n_bins</span><span class="o">=</span><span class="mi">4</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Klasifikasi Naive Bayes - Diskretisasi: </span><span class="si">{</span><span class="n">strategy</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span><span class="si">}</span><span class="s2"> ===&quot;</span><span class="p">)</span>

    <span class="n">kb</span> <span class="o">=</span> <span class="n">KBinsDiscretizer</span><span class="p">(</span><span class="n">n_bins</span><span class="o">=</span><span class="n">n_bins</span><span class="p">,</span> <span class="n">encode</span><span class="o">=</span><span class="s1">&#39;ordinal&#39;</span><span class="p">,</span> <span class="n">strategy</span><span class="o">=</span><span class="n">strategy</span><span class="p">)</span>
    <span class="n">X_train_discrete</span> <span class="o">=</span> <span class="n">kb</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
    <span class="n">X_test_discrete</span> <span class="o">=</span> <span class="n">kb</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

    <span class="n">model</span> <span class="o">=</span> <span class="n">CategoricalNB</span><span class="p">()</span>
    <span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train_discrete</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
    <span class="n">y_pred</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test_discrete</span><span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Akurasi:&quot;</span><span class="p">,</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Laporan Klasifikasi:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">classification_report</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>

<span class="c1"># Jalankan ketiga metode</span>
<span class="n">run_discretized_nb</span><span class="p">(</span><span class="s2">&quot;kmeans&quot;</span><span class="p">)</span>
<span class="n">run_discretized_nb</span><span class="p">(</span><span class="s2">&quot;uniform&quot;</span><span class="p">)</span>       <span class="c1"># Equal Width</span>
<span class="n">run_discretized_nb</span><span class="p">(</span><span class="s2">&quot;quantile&quot;</span><span class="p">)</span>      <span class="c1"># Equal Frequency</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>=== Klasifikasi Naive Bayes - Diskretisasi: KMEANS ===
Akurasi: 0.9333333333333333
Laporan Klasifikasi:
                  precision    recall  f1-score   support

    Iris-setosa       1.00      1.00      1.00        10
Iris-versicolor       1.00      0.78      0.88         9
 Iris-virginica       0.85      1.00      0.92        11

       accuracy                           0.93        30
      macro avg       0.95      0.93      0.93        30
   weighted avg       0.94      0.93      0.93        30


=== Klasifikasi Naive Bayes - Diskretisasi: UNIFORM ===
Akurasi: 0.9666666666666667
Laporan Klasifikasi:
                  precision    recall  f1-score   support

    Iris-setosa       1.00      1.00      1.00        10
Iris-versicolor       0.90      1.00      0.95         9
 Iris-virginica       1.00      0.91      0.95        11

       accuracy                           0.97        30
      macro avg       0.97      0.97      0.97        30
   weighted avg       0.97      0.97      0.97        30


=== Klasifikasi Naive Bayes - Diskretisasi: QUANTILE ===
Akurasi: 1.0
Laporan Klasifikasi:
                  precision    recall  f1-score   support

    Iris-setosa       1.00      1.00      1.00        10
Iris-versicolor       1.00      1.00      1.00         9
 Iris-virginica       1.00      1.00      1.00        11

       accuracy                           1.00        30
      macro avg       1.00      1.00      1.00        30
   weighted avg       1.00      1.00      1.00        30
</pre></div>
</div>
</div>
</div>
</section>
<section id="lakukan-klasifikasi-decision-tree-pada-data-iris-hasil-diskritisasi-menggunakan-k-means-untuk-mencari-akurasi-data-iris">
<h3>lakukan klasifikasi Decision Tree pada data iris hasil diskritisasi menggunakan K-Means, untuk mencari akurasi data iris<a class="headerlink" href="#lakukan-klasifikasi-decision-tree-pada-data-iris-hasil-diskritisasi-menggunakan-k-means-untuk-mencari-akurasi-data-iris" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># -----------------------------</span>
<span class="c1"># Proses Klasifikasi Decision Tree</span>
<span class="c1"># -----------------------------</span>

<span class="c1"># Encode nilai kategori A-D ke angka</span>
<span class="n">le</span> <span class="o">=</span> <span class="n">LabelEncoder</span><span class="p">()</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df_kmeans</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s1">&#39;class&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">le</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">)</span>

<span class="c1"># Encode label kelas asli (class)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df_kmeans</span><span class="p">[</span><span class="s1">&#39;class&#39;</span><span class="p">]</span>

<span class="c1"># Split data: 80% train, 20% test</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>

<span class="c1"># Buat dan latih model Decision Tree</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">DecisionTreeClassifier</span><span class="p">(</span><span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="c1"># Prediksi dan evaluasi</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Akurasi:&quot;</span><span class="p">,</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Laporan Klasifikasi:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">classification_report</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>

<span class="c1"># -----------------------------</span>
<span class="c1"># Visualisasi Decision Tree</span>
<span class="c1"># -----------------------------</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
<span class="n">plot_tree</span><span class="p">(</span><span class="n">model</span><span class="p">,</span>
          <span class="n">feature_names</span><span class="o">=</span><span class="n">X</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span>
          <span class="n">class_names</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">classes_</span><span class="p">,</span>
          <span class="n">filled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
          <span class="n">rounded</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Visualisasi Decision Tree&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">NameError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">8</span><span class="p">],</span> <span class="n">line</span> <span class="mi">6</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="c1"># -----------------------------</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="c1"># Proses Klasifikasi Decision Tree</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span> <span class="c1"># -----------------------------</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> 
<span class="g g-Whitespace">      </span><span class="mi">5</span> <span class="c1"># Encode nilai kategori A-D ke angka</span>
<span class="ne">----&gt; </span><span class="mi">6</span> <span class="n">le</span> <span class="o">=</span> <span class="n">LabelEncoder</span><span class="p">()</span>
<span class="g g-Whitespace">      </span><span class="mi">7</span> <span class="n">X</span> <span class="o">=</span> <span class="n">df_kmeans</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s1">&#39;class&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">le</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">9</span> <span class="c1"># Encode label kelas asli (class)</span>

<span class="ne">NameError</span>: name &#39;LabelEncoder&#39; is not defined
</pre></div>
</div>
</div>
</div>
<section id="penjelasan-konsep-diskritisasi-menggunakan-equal-width-binning">
<h4>Penjelasan Konsep Diskritisasi menggunakan Equal Width Binning<a class="headerlink" href="#penjelasan-konsep-diskritisasi-menggunakan-equal-width-binning" title="Link to this heading">#</a></h4>
<p>Kode tersebut melakukan diskritisasi data numerik menjadi kategori menggunakan metode Equal-Width Discretization, di mana setiap fitur (panjang dan lebar sepal serta petal) dibagi ke dalam 4 interval dengan lebar yang sama. Nilai-nilai pada setiap fitur kemudian dipetakan ke label kategori A, B, C, atau D tergantung pada intervalnya. Fungsi equiwidth_discretize menghitung batas-batas interval berdasarkan nilai minimum dan maksimum dari data, lalu menetapkan label berdasarkan posisi data dalam interval. Data hasil diskritisasi disimpan dalam df_equal_width, dan kolom kelas asli dari df_merged disisipkan di awal sebagai referensi untuk klasifikasi. Hasil akhir berupa DataFrame yang berisi nilai-nilai kategori untuk setiap fitur dan kelasnya, siap digunakan untuk algoritma seperti Naive Bayes yang bekerja dengan data kategorikal.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># Label kategori (opsional untuk Naive Bayes)</span>
<span class="n">label_map</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;D&#39;</span><span class="p">}</span>

<span class="c1"># Fungsi diskritisasi Equal-Width</span>
<span class="k">def</span> <span class="nf">equiwidth_discretize</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">m</span><span class="o">=</span><span class="mi">4</span><span class="p">):</span>
    <span class="n">min_val</span> <span class="o">=</span> <span class="n">arr</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
    <span class="n">max_val</span> <span class="o">=</span> <span class="n">arr</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
    <span class="n">width</span> <span class="o">=</span> <span class="p">(</span><span class="n">max_val</span> <span class="o">-</span> <span class="n">min_val</span><span class="p">)</span> <span class="o">/</span> <span class="n">m</span>
    <span class="n">bin_edges</span> <span class="o">=</span> <span class="p">[</span><span class="n">min_val</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="n">width</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">m</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>
    <span class="n">bin_indices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">digitize</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="n">bin_edges</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">right</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">bin_indices</span><span class="p">)</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">label_map</span><span class="p">)</span>

<span class="c1"># Terapkan pada df_merged</span>
<span class="n">df_equal_width</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;sepal_length&#39;</span><span class="p">:</span> <span class="n">equiwidth_discretize</span><span class="p">(</span><span class="n">df_merged</span><span class="p">[</span><span class="s1">&#39;sepal_length&#39;</span><span class="p">]),</span>
    <span class="s1">&#39;sepal_width&#39;</span><span class="p">:</span>  <span class="n">equiwidth_discretize</span><span class="p">(</span><span class="n">df_merged</span><span class="p">[</span><span class="s1">&#39;sepal_width&#39;</span><span class="p">]),</span>
    <span class="s1">&#39;petal_length&#39;</span><span class="p">:</span> <span class="n">equiwidth_discretize</span><span class="p">(</span><span class="n">df_merged</span><span class="p">[</span><span class="s1">&#39;petal_length&#39;</span><span class="p">]),</span>
    <span class="s1">&#39;petal_width&#39;</span><span class="p">:</span>  <span class="n">equiwidth_discretize</span><span class="p">(</span><span class="n">df_merged</span><span class="p">[</span><span class="s1">&#39;petal_width&#39;</span><span class="p">])</span>
<span class="p">})</span>

<span class="c1"># Tambahkan kolom kelas dari df_merged</span>
<span class="n">df_equal_width</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;class&#39;</span><span class="p">,</span> <span class="n">df_merged</span><span class="p">[</span><span class="s1">&#39;class&#39;</span><span class="p">])</span>

<span class="c1"># Tampilkan hasil</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Hasil Diskritisasi Equal-Width ===&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_equal_width</span><span class="o">.</span><span class="n">to_string</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>=== Hasil Diskritisasi Equal-Width ===
          class sepal_length sepal_width petal_length petal_width
    Iris-setosa            A           C            A           A
    Iris-setosa            A           B            A           A
    Iris-setosa            A           B            A           A
    Iris-setosa            A           B            A           A
    Iris-setosa            A           C            A           A
    Iris-setosa            B           D            A           A
    Iris-setosa            A           C            A           A
    Iris-setosa            A           C            A           A
    Iris-setosa            A           B            A           A
    Iris-setosa            A           B            A           A
    Iris-setosa            B           C            A           A
    Iris-setosa            A           C            A           A
    Iris-setosa            A           B            A           A
    Iris-setosa            A           B            A           A
    Iris-setosa            B           D            A           A
    Iris-setosa            B           D            A           A
    Iris-setosa            B           D            A           A
    Iris-setosa            A           C            A           A
    Iris-setosa            B           C            A           A
    Iris-setosa            A           C            A           A
    Iris-setosa            B           C            A           A
    Iris-setosa            A           C            A           A
    Iris-setosa            A           C            A           A
    Iris-setosa            A           C            A           A
    Iris-setosa            A           C            A           A
    Iris-setosa            A           B            A           A
    Iris-setosa            A           C            A           A
    Iris-setosa            A           C            A           A
    Iris-setosa            A           C            A           A
    Iris-setosa            A           B            A           A
    Iris-setosa            A           B            A           A
    Iris-setosa            B           C            A           A
    Iris-setosa            A           D            A           A
    Iris-setosa            B           D            A           A
    Iris-setosa            A           B            A           A
    Iris-setosa            A           B            A           A
    Iris-setosa            B           C            A           A
    Iris-setosa            A           B            A           A
    Iris-setosa            A           B            A           A
    Iris-setosa            A           C            A           A
    Iris-setosa            A           C            A           A
    Iris-setosa            A           A            A           A
    Iris-setosa            A           B            A           A
    Iris-setosa            A           C            A           A
    Iris-setosa            A           C            A           A
    Iris-setosa            A           B            A           A
    Iris-setosa            A           C            A           A
    Iris-setosa            A           B            A           A
    Iris-setosa            B           C            A           A
    Iris-setosa            A           C            A           A
Iris-versicolor            C           B            C           C
Iris-versicolor            C           B            C           C
Iris-versicolor            C           B            C           C
Iris-versicolor            B           A            C           B
Iris-versicolor            C           B            C           C
Iris-versicolor            B           B            C           B
Iris-versicolor            C           C            C           C
Iris-versicolor            A           A            B           B
Iris-versicolor            C           B            C           B
Iris-versicolor            A           B            B           C
Iris-versicolor            A           A            B           B
Iris-versicolor            B           B            C           C
Iris-versicolor            B           A            C           B
Iris-versicolor            B           B            C           C
Iris-versicolor            B           B            B           B
Iris-versicolor            C           B            C           C
Iris-versicolor            B           B            C           C
Iris-versicolor            B           B            C           B
Iris-versicolor            C           A            C           C
Iris-versicolor            B           A            B           B
Iris-versicolor            B           B            C           C
Iris-versicolor            B           B            C           B
Iris-versicolor            C           A            C           C
Iris-versicolor            B           B            C           B
Iris-versicolor            C           B            C           B
Iris-versicolor            C           B            C           C
Iris-versicolor            C           B            C           C
Iris-versicolor            C           B            C           C
Iris-versicolor            B           B            C           C
Iris-versicolor            B           A            B           B
Iris-versicolor            B           A            B           B
Iris-versicolor            B           A            B           B
Iris-versicolor            B           B            B           B
Iris-versicolor            B           B            C           C
Iris-versicolor            B           B            C           C
Iris-versicolor            B           C            C           C
Iris-versicolor            C           B            C           C
Iris-versicolor            C           A            C           B
Iris-versicolor            B           B            C           B
Iris-versicolor            B           A            C           B
Iris-versicolor            B           A            C           B
Iris-versicolor            B           B            C           C
Iris-versicolor            B           A            C           B
Iris-versicolor            A           A            B           B
Iris-versicolor            B           B            C           B
Iris-versicolor            B           B            C           B
Iris-versicolor            B           B            C           B
Iris-versicolor            C           B            C           B
Iris-versicolor            A           A            B           B
Iris-versicolor            B           B            C           B
 Iris-virginica            C           C            D           D
 Iris-virginica            B           B            C           C
 Iris-virginica            D           B            D           D
 Iris-virginica            C           B            D           C
 Iris-virginica            C           B            D           D
 Iris-virginica            D           B            D           D
 Iris-virginica            A           A            C           C
 Iris-virginica            D           B            D           C
 Iris-virginica            C           A            D           C
 Iris-virginica            D           C            D           D
 Iris-virginica            C           B            C           D
 Iris-virginica            C           B            C           C
 Iris-virginica            C           B            D           D
 Iris-virginica            B           A            C           D
 Iris-virginica            B           B            C           D
 Iris-virginica            C           B            C           D
 Iris-virginica            C           B            D           C
 Iris-virginica            D           C            D           D
 Iris-virginica            D           A            D           D
 Iris-virginica            B           A            C           C
 Iris-virginica            C           B            D           D
 Iris-virginica            B           B            C           D
 Iris-virginica            D           B            D           D
 Iris-virginica            C           B            C           C
 Iris-virginica            C           C            D           D
 Iris-virginica            D           B            D           C
 Iris-virginica            C           B            C           C
 Iris-virginica            B           B            C           C
 Iris-virginica            C           B            D           D
 Iris-virginica            D           B            D           C
 Iris-virginica            D           B            D           C
 Iris-virginica            D           C            D           D
 Iris-virginica            C           B            D           D
 Iris-virginica            C           B            C           C
 Iris-virginica            B           A            D           C
 Iris-virginica            D           B            D           D
 Iris-virginica            C           C            D           D
 Iris-virginica            C           B            D           C
 Iris-virginica            B           B            C           C
 Iris-virginica            C           B            C           D
 Iris-virginica            C           B            D           D
 Iris-virginica            C           B            C           D
 Iris-virginica            B           B            C           C
 Iris-virginica            C           B            D           D
 Iris-virginica            C           C            D           D
 Iris-virginica            C           B            C           D
 Iris-virginica            C           A            C           C
 Iris-virginica            C           B            C           D
 Iris-virginica            C           C            C           D
 Iris-virginica            B           B            C           C
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="klasifikasi-naive-bayes-pada-data-iris-hasil-diskritisasi-menggunakan-equal-width">
<h2>Klasifikasi Naive Bayes pada Data Iris hasil Diskritisasi menggunakan Equal-Width<a class="headerlink" href="#klasifikasi-naive-bayes-pada-data-iris-hasil-diskritisasi-menggunakan-equal-width" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># -----------------------------</span>
<span class="c1"># Proses Klasifikasi Naive Bayes (CategoricalNB)</span>
<span class="c1"># -----------------------------</span>

<span class="c1"># Encode nilai kategori A-D ke angka</span>
<span class="n">le</span> <span class="o">=</span> <span class="n">LabelEncoder</span><span class="p">()</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df_equal_width</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s1">&#39;class&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">le</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">)</span>

<span class="c1"># Encode label kelas asli (class)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df_equal_width</span><span class="p">[</span><span class="s1">&#39;class&#39;</span><span class="p">]</span>

<span class="c1"># Split data: 80% train, 20% test</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>

<span class="c1"># Buat dan latih model Categorical Naive Bayes</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">CategoricalNB</span><span class="p">()</span>
<span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="c1"># Prediksi dan evaluasi</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

<span class="c1"># Cetak hasil</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Akurasi:&quot;</span><span class="p">,</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Laporan Klasifikasi:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">classification_report</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Akurasi: 0.9333333333333333

Laporan Klasifikasi:
                  precision    recall  f1-score   support

    Iris-setosa       1.00      1.00      1.00        10
Iris-versicolor       0.89      0.89      0.89         9
 Iris-virginica       0.91      0.91      0.91        11

       accuracy                           0.93        30
      macro avg       0.93      0.93      0.93        30
   weighted avg       0.93      0.93      0.93        30
</pre></div>
</div>
</div>
</div>
</section>
<section id="klasifikasi-decision-tree-pada-data-iris-hasil-diskritisasi-menggunakan-equal-width-binning">
<h2>Klasifikasi Decision Tree pada Data Iris hasil Diskritisasi menggunakan Equal-Width Binning<a class="headerlink" href="#klasifikasi-decision-tree-pada-data-iris-hasil-diskritisasi-menggunakan-equal-width-binning" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># -----------------------------</span>
<span class="c1"># Proses Klasifikasi Decision Tree</span>
<span class="c1"># -----------------------------</span>

<span class="c1"># Encode nilai kategori A-D ke angka</span>
<span class="n">le</span> <span class="o">=</span> <span class="n">LabelEncoder</span><span class="p">()</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df_equal_width</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s1">&#39;class&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">le</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">)</span>

<span class="c1"># Encode label kelas asli (class)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df_equal_width</span><span class="p">[</span><span class="s1">&#39;class&#39;</span><span class="p">]</span>

<span class="c1"># Split data: 80% train, 20% test</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>

<span class="c1"># Buat dan latih model Decision Tree</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">DecisionTreeClassifier</span><span class="p">(</span><span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="c1"># Prediksi dan evaluasi</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Akurasi:&quot;</span><span class="p">,</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Laporan Klasifikasi:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">classification_report</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>

<span class="c1"># -----------------------------</span>
<span class="c1"># Visualisasi Decision Tree</span>
<span class="c1"># -----------------------------</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
<span class="n">plot_tree</span><span class="p">(</span><span class="n">model</span><span class="p">,</span>
          <span class="n">feature_names</span><span class="o">=</span><span class="n">X</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span>
          <span class="n">class_names</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">classes_</span><span class="p">,</span>
          <span class="n">filled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
          <span class="n">rounded</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Visualisasi Decision Tree&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Akurasi: 0.9666666666666667

Laporan Klasifikasi:
                  precision    recall  f1-score   support

    Iris-setosa       1.00      1.00      1.00        10
Iris-versicolor       0.90      1.00      0.95         9
 Iris-virginica       1.00      0.91      0.95        11

       accuracy                           0.97        30
      macro avg       0.97      0.97      0.97        30
   weighted avg       0.97      0.97      0.97        30
</pre></div>
</div>
<img alt="_images/28c5378aea910b617d6afc92ae3dde7352031c155a821bd867f6d9a8be439f5d.png" src="_images/28c5378aea910b617d6afc92ae3dde7352031c155a821bd867f6d9a8be439f5d.png" />
</div>
</div>
</section>
<section id="diskritisasi-dataset-iris-menggunakan-equal-frequency-binning">
<h2>Diskritisasi Dataset Iris menggunakan Equal-Frequency Binning<a class="headerlink" href="#diskritisasi-dataset-iris-menggunakan-equal-frequency-binning" title="Link to this heading">#</a></h2>
<p>Kode tersebut menerapkan metode Equal-Frequency Discretization (diskritisasi frekuensi sama) pada data numerik dengan membaginya ke dalam empat kuantil yang masing-masing berisi jumlah data yang hampir sama. Fungsi discretize_cdf menghitung batas kuantil berdasarkan data yang diurutkan, lalu menentukan nilai ambang dengan interpolasi linear jika diperlukan. Setiap nilai fitur kemudian dikategorikan ke dalam label A, B, C, atau D sesuai dengan interval kuantil tempat nilai tersebut berada. Proses ini dilakukan untuk setiap fitur dalam df_merged (panjang dan lebar sepal serta petal), dan hasilnya disimpan dalam df_equal_freq, dengan kolom kelas asli ditambahkan di awal. Output akhir adalah DataFrame dengan data diskrit yang cocok untuk algoritma klasifikasi berbasis kategori seperti Naive Bayes.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="c1"># Label kategori</span>
<span class="n">label_map</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;D&#39;</span><span class="p">}</span>

<span class="c1"># Fungsi manual equal-frequency discretization (CDF/Quantile)</span>
<span class="k">def</span> <span class="nf">discretize_cdf</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">m</span><span class="o">=</span><span class="mi">4</span><span class="p">):</span>
    <span class="n">data_sorted</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">data_sorted</span><span class="p">)</span>
    <span class="n">thresholds</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">)]</span>

    <span class="c1"># Buat threshold berdasarkan kuantil</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">m</span><span class="p">):</span>
        <span class="n">q</span> <span class="o">=</span> <span class="n">k</span> <span class="o">/</span> <span class="n">m</span>
        <span class="n">index</span> <span class="o">=</span> <span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">*</span> <span class="n">q</span>
        <span class="n">lower</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="n">index</span><span class="p">))</span>
        <span class="n">upper</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="n">index</span><span class="p">))</span>
        <span class="n">frac</span> <span class="o">=</span> <span class="n">index</span> <span class="o">-</span> <span class="n">lower</span>
        <span class="k">if</span> <span class="n">upper</span> <span class="o">&gt;=</span> <span class="n">n</span><span class="p">:</span>
            <span class="n">val</span> <span class="o">=</span> <span class="n">data_sorted</span><span class="p">[</span><span class="n">lower</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">val</span> <span class="o">=</span> <span class="n">data_sorted</span><span class="p">[</span><span class="n">lower</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="n">data_sorted</span><span class="p">[</span><span class="n">upper</span><span class="p">]</span> <span class="o">-</span> <span class="n">data_sorted</span><span class="p">[</span><span class="n">lower</span><span class="p">])</span> <span class="o">*</span> <span class="n">frac</span>
        <span class="n">thresholds</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
    <span class="n">thresholds</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">))</span>

    <span class="c1"># Ubah nilai ke kategori A-D</span>
    <span class="n">labels</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">thresholds</span><span class="p">)):</span>
            <span class="k">if</span> <span class="n">thresholds</span><span class="p">[</span><span class="n">b</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">value</span> <span class="o">&lt;</span> <span class="n">thresholds</span><span class="p">[</span><span class="n">b</span><span class="p">]:</span>
                <span class="n">labels</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">label_map</span><span class="p">[</span><span class="n">b</span> <span class="o">-</span> <span class="mi">1</span><span class="p">])</span>
                <span class="k">break</span>
    <span class="k">return</span> <span class="n">labels</span>

<span class="c1"># Terapkan ke semua fitur dari df_merged</span>
<span class="n">df_equal_freq</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
    <span class="s1">&#39;sepal_length&#39;</span><span class="p">:</span> <span class="n">discretize_cdf</span><span class="p">(</span><span class="n">df_merged</span><span class="p">[</span><span class="s1">&#39;sepal_length&#39;</span><span class="p">]),</span>
    <span class="s1">&#39;sepal_width&#39;</span><span class="p">:</span>  <span class="n">discretize_cdf</span><span class="p">(</span><span class="n">df_merged</span><span class="p">[</span><span class="s1">&#39;sepal_width&#39;</span><span class="p">]),</span>
    <span class="s1">&#39;petal_length&#39;</span><span class="p">:</span> <span class="n">discretize_cdf</span><span class="p">(</span><span class="n">df_merged</span><span class="p">[</span><span class="s1">&#39;petal_length&#39;</span><span class="p">]),</span>
    <span class="s1">&#39;petal_width&#39;</span><span class="p">:</span>  <span class="n">discretize_cdf</span><span class="p">(</span><span class="n">df_merged</span><span class="p">[</span><span class="s1">&#39;petal_width&#39;</span><span class="p">])</span>
<span class="p">})</span>

<span class="c1"># Tambahkan label kelas</span>
<span class="n">df_equal_freq</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;class&#39;</span><span class="p">,</span> <span class="n">df_merged</span><span class="p">[</span><span class="s1">&#39;class&#39;</span><span class="p">])</span>

<span class="c1"># Tampilkan hasil</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Hasil Diskritisasi Equal-Frequency ===&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df_equal_freq</span><span class="o">.</span><span class="n">to_string</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>=== Hasil Diskritisasi Equal-Frequency ===
          class sepal_length sepal_width petal_length petal_width
    Iris-setosa            B           D            A           A
    Iris-setosa            A           C            A           A
    Iris-setosa            A           C            A           A
    Iris-setosa            A           C            A           A
    Iris-setosa            A           D            A           A
    Iris-setosa            B           D            B           B
    Iris-setosa            A           D            A           B
    Iris-setosa            A           D            A           A
    Iris-setosa            A           B            A           A
    Iris-setosa            A           C            A           A
    Iris-setosa            B           D            A           A
    Iris-setosa            A           D            B           A
    Iris-setosa            A           C            A           A
    Iris-setosa            A           C            A           A
    Iris-setosa            C           D            A           A
    Iris-setosa            B           D            A           B
    Iris-setosa            B           D            A           B
    Iris-setosa            B           D            A           B
    Iris-setosa            B           D            B           B
    Iris-setosa            B           D            A           B
    Iris-setosa            B           D            B           A
    Iris-setosa            B           D            A           B
    Iris-setosa            A           D            A           A
    Iris-setosa            B           D            B           B
    Iris-setosa            A           D            B           A
    Iris-setosa            A           C            B           A
    Iris-setosa            A           D            B           B
    Iris-setosa            B           D            A           A
    Iris-setosa            B           D            A           A
    Iris-setosa            A           C            B           A
    Iris-setosa            A           C            B           A
    Iris-setosa            B           D            A           B
    Iris-setosa            B           D            A           A
    Iris-setosa            B           D            A           A
    Iris-setosa            A           C            A           A
    Iris-setosa            A           C            A           A
    Iris-setosa            B           D            A           A
    Iris-setosa            A           C            A           A
    Iris-setosa            A           C            A           A
    Iris-setosa            B           D            A           A
    Iris-setosa            A           D            A           B
    Iris-setosa            A           A            A           B
    Iris-setosa            A           C            A           A
    Iris-setosa            A           D            B           B
    Iris-setosa            B           D            B           B
    Iris-setosa            A           C            A           B
    Iris-setosa            B           D            B           A
    Iris-setosa            A           C            A           A
    Iris-setosa            B           D            A           A
    Iris-setosa            A           D            A           A
Iris-versicolor            D           C            C           C
Iris-versicolor            D           C            C           C
Iris-versicolor            D           C            C           C
Iris-versicolor            B           A            B           C
Iris-versicolor            D           B            C           C
Iris-versicolor            B           B            C           C
Iris-versicolor            C           D            C           C
Iris-versicolor            A           A            B           B
Iris-versicolor            D           B            C           C
Iris-versicolor            B           A            B           C
Iris-versicolor            A           A            B           B
Iris-versicolor            C           C            B           C
Iris-versicolor            C           A            B           B
Iris-versicolor            C           B            C           C
Iris-versicolor            B           B            B           C
Iris-versicolor            D           C            C           C
Iris-versicolor            B           C            C           C
Iris-versicolor            C           A            B           B
Iris-versicolor            C           A            C           C
Iris-versicolor            B           A            B           B
Iris-versicolor            C           C            C           D
Iris-versicolor            C           B            B           C
Iris-versicolor            C           A            C           C
Iris-versicolor            C           B            C           B
Iris-versicolor            D           B            B           C
Iris-versicolor            D           C            C           C
Iris-versicolor            D           B            C           C
Iris-versicolor            D           C            C           C
Iris-versicolor            C           B            C           C
Iris-versicolor            B           A            B           B
Iris-versicolor            B           A            B           B
Iris-versicolor            B           A            B           B
Iris-versicolor            C           A            B           B
Iris-versicolor            C           A            D           C
Iris-versicolor            B           C            C           C
Iris-versicolor            C           D            C           C
Iris-versicolor            D           C            C           C
Iris-versicolor            C           A            C           C
Iris-versicolor            B           C            B           C
Iris-versicolor            B           A            B           C
Iris-versicolor            B           A            C           B
Iris-versicolor            C           C            C           C
Iris-versicolor            C           A            B           B
Iris-versicolor            A           A            B           B
Iris-versicolor            B           A            B           C
Iris-versicolor            B           C            B           B
Iris-versicolor            B           B            B           C
Iris-versicolor            C           B            B           C
Iris-versicolor            B           A            B           B
Iris-versicolor            B           B            B           C
 Iris-virginica            C           D            D           D
 Iris-virginica            C           A            D           D
 Iris-virginica            D           C            D           D
 Iris-virginica            C           B            D           D
 Iris-virginica            D           C            D           D
 Iris-virginica            D           C            D           D
 Iris-virginica            A           A            C           C
 Iris-virginica            D           B            D           D
 Iris-virginica            D           A            D           D
 Iris-virginica            D           D            D           D
 Iris-virginica            D           C            D           D
 Iris-virginica            D           A            D           D
 Iris-virginica            D           C            D           D
 Iris-virginica            B           A            C           D
 Iris-virginica            C           B            D           D
 Iris-virginica            D           C            D           D
 Iris-virginica            D           C            D           D
 Iris-virginica            D           D            D           D
 Iris-virginica            D           A            D           D
 Iris-virginica            C           A            C           C
 Iris-virginica            D           C            D           D
 Iris-virginica            B           B            C           D
 Iris-virginica            D           B            D           D
 Iris-virginica            C           A            C           D
 Iris-virginica            D           D            D           D
 Iris-virginica            D           C            D           D
 Iris-virginica            C           B            C           D
 Iris-virginica            C           C            C           D
 Iris-virginica            D           B            D           D
 Iris-virginica            D           C            D           C
 Iris-virginica            D           B            D           D
 Iris-virginica            D           D            D           D
 Iris-virginica            D           B            D           D
 Iris-virginica            C           B            D           C
 Iris-virginica            C           A            D           C
 Iris-virginica            D           C            D           D
 Iris-virginica            C           D            D           D
 Iris-virginica            D           C            D           D
 Iris-virginica            C           C            C           D
 Iris-virginica            D           C            D           D
 Iris-virginica            D           C            D           D
 Iris-virginica            D           C            D           D
 Iris-virginica            C           A            D           D
 Iris-virginica            D           C            D           D
 Iris-virginica            D           D            D           D
 Iris-virginica            D           C            D           D
 Iris-virginica            C           A            C           D
 Iris-virginica            D           C            D           D
 Iris-virginica            C           D            D           D
 Iris-virginica            C           C            D           D
</pre></div>
</div>
</div>
</div>
</section>
<section id="lakukan-klasifikasi-naive-bayes-pada-data-iris-hasil-diskritisasi-menggunakan-equal-frequency-binning-untuk-mencari-akurasi-data-iris">
<h2>lakukan klasifikasi Naive Bayes pada data iris hasil diskritisasi menggunakan Equal-Frequency Binning, untuk mencari akurasi data iris<a class="headerlink" href="#lakukan-klasifikasi-naive-bayes-pada-data-iris-hasil-diskritisasi-menggunakan-equal-frequency-binning-untuk-mencari-akurasi-data-iris" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">LabelEncoder</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span> <span class="nn">sklearn.naive_bayes</span> <span class="kn">import</span> <span class="n">CategoricalNB</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">accuracy_score</span><span class="p">,</span> <span class="n">classification_report</span>

<span class="c1"># Gunakan df_equal_freq yang telah dibuat sebelumnya</span>
<span class="n">df_equal_frequency</span> <span class="o">=</span> <span class="n">df_equal_freq</span>  <span class="c1"># atau pastikan nama ini digunakan sejak awal</span>

<span class="c1"># Encode nilai A-D menjadi angka (0–3)</span>
<span class="n">le</span> <span class="o">=</span> <span class="n">LabelEncoder</span><span class="p">()</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df_equal_frequency</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s1">&#39;class&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">le</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">)</span>

<span class="c1"># Label target</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df_equal_frequency</span><span class="p">[</span><span class="s1">&#39;class&#39;</span><span class="p">]</span>

<span class="c1"># Bagi data menjadi train dan test</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>

<span class="c1"># Buat dan latih model Naive Bayes untuk data kategori</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">CategoricalNB</span><span class="p">()</span>
<span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="c1"># Prediksi</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>

<span class="c1"># Evaluasi</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== Evaluasi Naive Bayes setelah Diskritisasi (Equal-Frequency) ===&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Akurasi:&quot;</span><span class="p">,</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Laporan Klasifikasi:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">classification_report</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>=== Evaluasi Naive Bayes setelah Diskritisasi (Equal-Frequency) ===
Akurasi: 1.0

Laporan Klasifikasi:
                  precision    recall  f1-score   support

    Iris-setosa       1.00      1.00      1.00        10
Iris-versicolor       1.00      1.00      1.00         9
 Iris-virginica       1.00      1.00      1.00        11

       accuracy                           1.00        30
      macro avg       1.00      1.00      1.00        30
   weighted avg       1.00      1.00      1.00        30
</pre></div>
</div>
</div>
</div>
</section>
<section id="klasifikasi-decision-tree-pada-data-iris-hasil-diskritisasi-menggunakan-equal-frequency">
<h2>Klasifikasi Decision Tree pada Data Iris hasil Diskritisasi menggunakan Equal-Frequency<a class="headerlink" href="#klasifikasi-decision-tree-pada-data-iris-hasil-diskritisasi-menggunakan-equal-frequency" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># -----------------------------</span>
<span class="c1"># Proses Klasifikasi Decision Tree</span>
<span class="c1"># -----------------------------</span>

<span class="c1"># Encode nilai kategori A-D ke angka</span>
<span class="n">le</span> <span class="o">=</span> <span class="n">LabelEncoder</span><span class="p">()</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">df_equal_frequency</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s1">&#39;class&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">le</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">)</span>

<span class="c1"># Encode label kelas asli (class)</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df_equal_frequency</span><span class="p">[</span><span class="s1">&#39;class&#39;</span><span class="p">]</span>

<span class="c1"># Split data: 80% train, 20% test</span>
<span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>

<span class="c1"># Buat dan latih model Decision Tree</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">DecisionTreeClassifier</span><span class="p">(</span><span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>

<span class="c1"># Prediksi dan evaluasi</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Akurasi:&quot;</span><span class="p">,</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Laporan Klasifikasi:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">classification_report</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">))</span>

<span class="c1"># -----------------------------</span>
<span class="c1"># Visualisasi Decision Tree</span>
<span class="c1"># -----------------------------</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
<span class="n">plot_tree</span><span class="p">(</span><span class="n">model</span><span class="p">,</span>
          <span class="n">feature_names</span><span class="o">=</span><span class="n">X</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span>
          <span class="n">class_names</span><span class="o">=</span><span class="n">model</span><span class="o">.</span><span class="n">classes_</span><span class="p">,</span>
          <span class="n">filled</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
          <span class="n">rounded</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;Visualisasi Decision Tree&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Akurasi: 0.9666666666666667

Laporan Klasifikasi:
                  precision    recall  f1-score   support

    Iris-setosa       1.00      1.00      1.00        10
Iris-versicolor       0.90      1.00      0.95         9
 Iris-virginica       1.00      0.91      0.95        11

       accuracy                           0.97        30
      macro avg       0.97      0.97      0.97        30
   weighted avg       0.97      0.97      0.97        30
</pre></div>
</div>
<img alt="_images/05c369deade43a9658e06d24fd832ed7b22f25b0e646588f11387f03f7e588f1.png" src="_images/05c369deade43a9658e06d24fd832ed7b22f25b0e646588f11387f03f7e588f1.png" />
</div>
</div>
</section>
<section id="import-ambil-data">
<h2>Import &amp; Ambil Data<a class="headerlink" href="#import-ambil-data" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">psycopg2</span>
<span class="kn">import</span> <span class="nn">pymysql</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">train_test_split</span>
<span class="kn">from</span> <span class="nn">sklearn.naive_bayes</span> <span class="kn">import</span> <span class="n">GaussianNB</span>
<span class="kn">from</span> <span class="nn">sklearn.tree</span> <span class="kn">import</span> <span class="n">DecisionTreeClassifier</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">accuracy_score</span><span class="p">,</span> <span class="n">classification_report</span>
<span class="kn">from</span> <span class="nn">sklearn.cluster</span> <span class="kn">import</span> <span class="n">KMeans</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_pg_data</span><span class="p">():</span>
    <span class="n">conn</span> <span class="o">=</span> <span class="n">psycopg2</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
        <span class="n">host</span><span class="o">=</span><span class="s2">&quot;postgre-mysqliris.g.aivencloud.com&quot;</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="s2">&quot;avnadmin&quot;</span><span class="p">,</span>
        <span class="n">password</span><span class="o">=</span><span class="s2">&quot;AVNS_ldSz_mZZNFskZEWcZsJ&quot;</span><span class="p">,</span>
        <span class="n">database</span><span class="o">=</span><span class="s2">&quot;defaultdb&quot;</span><span class="p">,</span>
        <span class="n">port</span><span class="o">=</span><span class="mi">10378</span>
    <span class="p">)</span>
    <span class="n">cursor</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;SELECT * FROM sepaliris&quot;</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
    <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">desc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">desc</span> <span class="ow">in</span> <span class="n">cursor</span><span class="o">.</span><span class="n">description</span><span class="p">]</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">get_mysql_data</span><span class="p">():</span>
    <span class="n">conn</span> <span class="o">=</span> <span class="n">pymysql</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
        <span class="n">host</span><span class="o">=</span><span class="s2">&quot;mysql-37a70601-mysqliris.i.aivencloud.com&quot;</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="s2">&quot;avnadmin&quot;</span><span class="p">,</span>
        <span class="n">password</span><span class="o">=</span><span class="s2">&quot;AVNS_3JRmZQG_Bul1_r-Rhl6&quot;</span><span class="p">,</span>
        <span class="n">database</span><span class="o">=</span><span class="s2">&quot;petal&quot;</span><span class="p">,</span>
        <span class="n">port</span><span class="o">=</span><span class="mi">10378</span>
    <span class="p">)</span>
    <span class="n">cursor</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="s2">&quot;SELECT * FROM petaliris&quot;</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">cursor</span><span class="o">.</span><span class="n">fetchall</span><span class="p">()</span>
    <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">desc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">desc</span> <span class="ow">in</span> <span class="n">cursor</span><span class="o">.</span><span class="n">description</span><span class="p">]</span>
    <span class="n">cursor</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">)</span>

<span class="c1"># Gabungkan</span>
<span class="n">df_pg</span> <span class="o">=</span> <span class="n">get_pg_data</span><span class="p">()</span>
<span class="n">df_mysql</span> <span class="o">=</span> <span class="n">get_mysql_data</span><span class="p">()</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df_pg</span><span class="p">,</span> <span class="n">df_mysql</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;id&quot;</span><span class="p">,</span> <span class="s2">&quot;class&quot;</span><span class="p">],</span> <span class="n">how</span><span class="o">=</span><span class="s2">&quot;inner&quot;</span><span class="p">)</span>

<span class="c1"># Backup numerik</span>
<span class="n">df_numeric</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="diskretisasi">
<h2>Diskretisasi<a class="headerlink" href="#diskretisasi" title="Link to this heading">#</a></h2>
<section id="diskretisasi-kmeans">
<h3>Diskretisasi KMeans<a class="headerlink" href="#diskretisasi-kmeans" title="Link to this heading">#</a></h3>
<p>Kode tersebut membuat salinan dari dataset numerik (df_numeric) ke dalam df_ew, lalu menerapkan diskritisasi Equal Width pada setiap fitur (sepal_length, sepal_width, petal_length, dan petal_width) dengan membaginya menjadi 4 interval dengan lebar sama dan memberi label kategori ‘a’, ‘b’, ‘c’, atau ‘d’.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_kmeans</span> <span class="o">=</span> <span class="n">df_numeric</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">labels_map</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="s1">&#39;d&#39;</span><span class="p">}</span>

<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;sepal_length&#39;</span><span class="p">,</span> <span class="s1">&#39;sepal_width&#39;</span><span class="p">,</span> <span class="s1">&#39;petal_length&#39;</span><span class="p">,</span> <span class="s1">&#39;petal_width&#39;</span><span class="p">]:</span>
    <span class="n">kmeans</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
    <span class="n">clusters</span> <span class="o">=</span> <span class="n">kmeans</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">df_kmeans</span><span class="p">[[</span><span class="n">col</span><span class="p">]])</span>
    <span class="n">df_kmeans</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">clusters</span><span class="p">)</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="n">labels_map</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="diskretisasi-equal-width">
<h2>Diskretisasi Equal Width<a class="headerlink" href="#diskretisasi-equal-width" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_ew</span> <span class="o">=</span> <span class="n">df_numeric</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;sepal_length&#39;</span><span class="p">,</span> <span class="s1">&#39;sepal_width&#39;</span><span class="p">,</span> <span class="s1">&#39;petal_length&#39;</span><span class="p">,</span> <span class="s1">&#39;petal_width&#39;</span><span class="p">]:</span>
    <span class="n">df_ew</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">cut</span><span class="p">(</span><span class="n">df_ew</span><span class="p">[</span><span class="n">col</span><span class="p">],</span> <span class="n">bins</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="diskretisasi-equal-frequency">
<h2>Diskretisasi Equal Frequency<a class="headerlink" href="#diskretisasi-equal-frequency" title="Link to this heading">#</a></h2>
<p>Kode tersebut membandingkan akurasi klasifikasi dari empat jenis data: numerik asli, hasil klaster KMeans, dan data yang telah didiskritisasi dengan metode Equal Width dan Equal Frequency. Data kategorikal dikonversi ke angka sebelum diklasifikasikan, dan hasilnya disimpan untuk analisis perbandingan.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df_ef</span> <span class="o">=</span> <span class="n">df_numeric</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;sepal_length&#39;</span><span class="p">,</span> <span class="s1">&#39;sepal_width&#39;</span><span class="p">,</span> <span class="s1">&#39;petal_length&#39;</span><span class="p">,</span> <span class="s1">&#39;petal_width&#39;</span><span class="p">]:</span>
    <span class="n">df_ef</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">qcut</span><span class="p">(</span><span class="n">df_ef</span><span class="p">[</span><span class="n">col</span><span class="p">],</span> <span class="n">q</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="fungsi-klasifikasi">
<h2>Fungsi Klasifikasi<a class="headerlink" href="#fungsi-klasifikasi" title="Link to this heading">#</a></h2>
<p>Fungsi run_classification(X, y, title=””) digunakan untuk melakukan evaluasi dua algoritma klasifikasi—Naive Bayes (GaussianNB) dan Decision Tree—dengan membandingkan performanya pada dataset fitur X dan target y. Pertama, data dibagi menjadi data latih (70%) dan data uji (30%) secara acak namun konsisten dengan random_state=42. Dua model klasifikasi dibuat dalam dictionary models, lalu masing-masing dilatih pada data latih. Setelah pelatihan, fungsi memprediksi data uji dan menghitung akurasi serta mencetak laporan klasifikasi yang mencakup precision, recall, dan f1-score untuk setiap kelas. Laporan ini membantu menilai kinerja tiap model terhadap distribusi kelas yang berbeda. Akurasi tiap model disimpan dalam dictionary result dan dikembalikan di akhir fungsi. Parameter opsional title ditampilkan dalam output agar pengguna tahu konteks klasifikasi (misalnya, metode diskritisasi yang digunakan).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">run_classification</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
    <span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span> <span class="o">=</span> <span class="n">train_test_split</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">test_size</span><span class="o">=</span><span class="mf">0.3</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>

    <span class="n">models</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;Naive Bayes&quot;</span><span class="p">:</span> <span class="n">GaussianNB</span><span class="p">(),</span>
        <span class="s2">&quot;Decision Tree&quot;</span><span class="p">:</span> <span class="n">DecisionTreeClassifier</span><span class="p">(</span><span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="n">result</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">model</span> <span class="ow">in</span> <span class="n">models</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">)</span>
        <span class="n">y_pred</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
        <span class="n">acc</span> <span class="o">=</span> <span class="n">accuracy_score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">=== </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> - </span><span class="si">{</span><span class="n">title</span><span class="si">}</span><span class="s2"> ===&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Akurasi: </span><span class="si">{</span><span class="n">acc</span><span class="si">:</span><span class="s2">.4f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">classification_report</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">,</span> <span class="n">zero_division</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
        <span class="n">result</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">acc</span>
    <span class="k">return</span> <span class="n">result</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="bandingkan-semua">
<h2>Bandingkan Semua<a class="headerlink" href="#bandingkan-semua" title="Link to this heading">#</a></h2>
<p>Kode tersebut menjalankan proses klasifikasi dengan menggunakan data dari empat jenis representasi fitur: numerik asli, hasil klasterisasi KMeans, diskritisasi Equal Width, dan diskritisasi Equal Frequency. Untuk setiap versi data, fitur-fitur sepal_length, sepal_width, petal_length, dan petal_width diambil sebagai input (X), dan label kelas (y) diambil dari data numerik asli. Data kategorikal (KMeans, Equal Width, dan Equal Frequency) dikonversi ke bentuk numerik menggunakan .astype(‘category’).cat.codes agar bisa digunakan dalam model klasifikasi. Masing-masing dataset kemudian diproses oleh fungsi run_classification, dan hasilnya disimpan ke dalam dictionary results_all dengan nama sesuai tipe representasinya, memungkinkan perbandingan performa model berdasarkan teknik representasi fitur yang berbeda.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">results_all</span> <span class="o">=</span> <span class="p">{}</span>

<span class="c1"># Numerik</span>
<span class="n">X_num</span> <span class="o">=</span> <span class="n">df_numeric</span><span class="p">[[</span><span class="s1">&#39;sepal_length&#39;</span><span class="p">,</span> <span class="s1">&#39;sepal_width&#39;</span><span class="p">,</span> <span class="s1">&#39;petal_length&#39;</span><span class="p">,</span> <span class="s1">&#39;petal_width&#39;</span><span class="p">]]</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">df_numeric</span><span class="p">[</span><span class="s1">&#39;class&#39;</span><span class="p">]</span>
<span class="n">results_all</span><span class="p">[</span><span class="s1">&#39;Numerik&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">run_classification</span><span class="p">(</span><span class="n">X_num</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="s2">&quot;Numerik&quot;</span><span class="p">)</span>

<span class="c1"># KMeans</span>
<span class="n">X_kmeans</span> <span class="o">=</span> <span class="n">df_kmeans</span><span class="p">[[</span><span class="s1">&#39;sepal_length&#39;</span><span class="p">,</span> <span class="s1">&#39;sepal_width&#39;</span><span class="p">,</span> <span class="s1">&#39;petal_length&#39;</span><span class="p">,</span> <span class="s1">&#39;petal_width&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">col</span><span class="p">:</span> <span class="n">col</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">codes</span><span class="p">)</span>
<span class="n">results_all</span><span class="p">[</span><span class="s1">&#39;KMeans&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">run_classification</span><span class="p">(</span><span class="n">X_kmeans</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="s2">&quot;KMeans&quot;</span><span class="p">)</span>

<span class="c1"># Equal Width</span>
<span class="n">X_ew</span> <span class="o">=</span> <span class="n">df_ew</span><span class="p">[[</span><span class="s1">&#39;sepal_length&#39;</span><span class="p">,</span> <span class="s1">&#39;sepal_width&#39;</span><span class="p">,</span> <span class="s1">&#39;petal_length&#39;</span><span class="p">,</span> <span class="s1">&#39;petal_width&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">col</span><span class="p">:</span> <span class="n">col</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">codes</span><span class="p">)</span>
<span class="n">results_all</span><span class="p">[</span><span class="s1">&#39;Equal Width&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">run_classification</span><span class="p">(</span><span class="n">X_ew</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="s2">&quot;Equal Width&quot;</span><span class="p">)</span>

<span class="c1"># Equal Frequency</span>
<span class="n">X_ef</span> <span class="o">=</span> <span class="n">df_ef</span><span class="p">[[</span><span class="s1">&#39;sepal_length&#39;</span><span class="p">,</span> <span class="s1">&#39;sepal_width&#39;</span><span class="p">,</span> <span class="s1">&#39;petal_length&#39;</span><span class="p">,</span> <span class="s1">&#39;petal_width&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">col</span><span class="p">:</span> <span class="n">col</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">&#39;category&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">cat</span><span class="o">.</span><span class="n">codes</span><span class="p">)</span>
<span class="n">results_all</span><span class="p">[</span><span class="s1">&#39;Equal Frequency&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">run_classification</span><span class="p">(</span><span class="n">X_ef</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="s2">&quot;Equal Frequency&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>=== Naive Bayes - Numerik ===
Akurasi: 0.9778
                 precision    recall  f1-score   support

    Iris-setosa       1.00      1.00      1.00        19
Iris-versicolor       1.00      0.92      0.96        13
 Iris-virginica       0.93      1.00      0.96        13

       accuracy                           0.98        45
      macro avg       0.98      0.97      0.97        45
   weighted avg       0.98      0.98      0.98        45


=== Decision Tree - Numerik ===
Akurasi: 1.0000
                 precision    recall  f1-score   support

    Iris-setosa       1.00      1.00      1.00        19
Iris-versicolor       1.00      1.00      1.00        13
 Iris-virginica       1.00      1.00      1.00        13

       accuracy                           1.00        45
      macro avg       1.00      1.00      1.00        45
   weighted avg       1.00      1.00      1.00        45


=== Naive Bayes - KMeans ===
Akurasi: 0.8000
                 precision    recall  f1-score   support

    Iris-setosa       1.00      1.00      1.00        19
Iris-versicolor       0.67      0.62      0.64        13
 Iris-virginica       0.64      0.69      0.67        13

       accuracy                           0.80        45
      macro avg       0.77      0.77      0.77        45
   weighted avg       0.80      0.80      0.80        45


=== Decision Tree - KMeans ===
Akurasi: 0.9556
                 precision    recall  f1-score   support

    Iris-setosa       1.00      1.00      1.00        19
Iris-versicolor       1.00      0.85      0.92        13
 Iris-virginica       0.87      1.00      0.93        13

       accuracy                           0.96        45
      macro avg       0.96      0.95      0.95        45
   weighted avg       0.96      0.96      0.96        45


=== Naive Bayes - Equal Width ===
Akurasi: 0.8000
                 precision    recall  f1-score   support

    Iris-setosa       1.00      1.00      1.00        19
Iris-versicolor       0.70      0.54      0.61        13
 Iris-virginica       0.62      0.77      0.69        13

       accuracy                           0.80        45
      macro avg       0.78      0.77      0.77        45
   weighted avg       0.81      0.80      0.80        45


=== Decision Tree - Equal Width ===
Akurasi: 0.9333
                 precision    recall  f1-score   support

    Iris-setosa       1.00      1.00      1.00        19
Iris-versicolor       0.81      1.00      0.90        13
 Iris-virginica       1.00      0.77      0.87        13

       accuracy                           0.93        45
      macro avg       0.94      0.92      0.92        45
   weighted avg       0.95      0.93      0.93        45


=== Naive Bayes - Equal Frequency ===
Akurasi: 0.8444
                 precision    recall  f1-score   support

    Iris-setosa       1.00      1.00      1.00        19
Iris-versicolor       0.88      0.54      0.67        13
 Iris-virginica       0.67      0.92      0.77        13

       accuracy                           0.84        45
      macro avg       0.85      0.82      0.81        45
   weighted avg       0.87      0.84      0.84        45


=== Decision Tree - Equal Frequency ===
Akurasi: 0.9333
                 precision    recall  f1-score   support

    Iris-setosa       0.95      1.00      0.97        19
Iris-versicolor       0.92      0.85      0.88        13
 Iris-virginica       0.92      0.92      0.92        13

       accuracy                           0.93        45
      macro avg       0.93      0.92      0.93        45
   weighted avg       0.93      0.93      0.93        45
</pre></div>
</div>
</div>
</div>
</section>
<section id="visualisasi-perbandingan">
<h2>Visualisasi Perbandingan<a class="headerlink" href="#visualisasi-perbandingan" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">results_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">results_all</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">===== PERBANDINGAN AKURASI =====&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">results_df</span><span class="p">)</span>

<span class="n">results_df</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Akurasi Model Klasifikasi vs Diskretisasi&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Akurasi&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>===== PERBANDINGAN AKURASI =====
                 Naive Bayes  Decision Tree
Numerik             0.977778       1.000000
KMeans              0.800000       0.955556
Equal Width         0.800000       0.933333
Equal Frequency     0.844444       0.933333
</pre></div>
</div>
<img alt="_images/3b85ef0f8b72ae40c632ed942f4799b93e23858a380af59e3eb2edb1ff6cb4fe.png" src="_images/3b85ef0f8b72ae40c632ed942f4799b93e23858a380af59e3eb2edb1ff6cb4fe.png" />
</div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="tree.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Tugas_Decision_tree</p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bagian-awal-ambil-dan-gabungkan-data">Bagian Awal: Ambil dan Gabungkan Data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#klasifikasi-naive-bayes-pada-data-iris-hasil-diskritisasi-menggunakan-k-means">Klasifikasi Naive Bayes pada Data Iris hasil Diskritisasi menggunakan K-Means</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lakukan-klasifikasi-naive-bayes-pada-data-iris-hasil-diskritisasi-menggunakan-k-means-untuk-mencari-akurasi-data-iris">lakukan klasifikasi Naive Bayes pada data iris hasil diskritisasi menggunakan K-Means, untuk mencari akurasi data iris</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lakukan-klasifikasi-decision-tree-pada-data-iris-hasil-diskritisasi-menggunakan-k-means-untuk-mencari-akurasi-data-iris">lakukan klasifikasi Decision Tree pada data iris hasil diskritisasi menggunakan K-Means, untuk mencari akurasi data iris</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#penjelasan-konsep-diskritisasi-menggunakan-equal-width-binning">Penjelasan Konsep Diskritisasi menggunakan Equal Width Binning</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#klasifikasi-naive-bayes-pada-data-iris-hasil-diskritisasi-menggunakan-equal-width">Klasifikasi Naive Bayes pada Data Iris hasil Diskritisasi menggunakan Equal-Width</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#klasifikasi-decision-tree-pada-data-iris-hasil-diskritisasi-menggunakan-equal-width-binning">Klasifikasi Decision Tree pada Data Iris hasil Diskritisasi menggunakan Equal-Width Binning</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#diskritisasi-dataset-iris-menggunakan-equal-frequency-binning">Diskritisasi Dataset Iris menggunakan Equal-Frequency Binning</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lakukan-klasifikasi-naive-bayes-pada-data-iris-hasil-diskritisasi-menggunakan-equal-frequency-binning-untuk-mencari-akurasi-data-iris">lakukan klasifikasi Naive Bayes pada data iris hasil diskritisasi menggunakan Equal-Frequency Binning, untuk mencari akurasi data iris</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#klasifikasi-decision-tree-pada-data-iris-hasil-diskritisasi-menggunakan-equal-frequency">Klasifikasi Decision Tree pada Data Iris hasil Diskritisasi menggunakan Equal-Frequency</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#import-ambil-data">Import &amp; Ambil Data</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#diskretisasi">Diskretisasi</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#diskretisasi-kmeans">Diskretisasi KMeans</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#diskretisasi-equal-width">Diskretisasi Equal Width</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#diskretisasi-equal-frequency">Diskretisasi Equal Frequency</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#fungsi-klasifikasi">Fungsi Klasifikasi</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bandingkan-semua">Bandingkan Semua</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#visualisasi-perbandingan">Visualisasi Perbandingan</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Fahrizal umam 230411100056
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>